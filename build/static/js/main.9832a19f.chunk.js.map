{"version":3,"sources":["state/index.js","reducers/index.js","components/loader/index.js","components/settings/Settings.js","components/controls/Controls.js","components/header/Header.js","components/footer/Footer.js","utils/firebase.js","components/login/Login.js","components/popover/Popover.js","components/drafts/Draft.js","components/drafts/Drafts.js","components/shared/progress-ring/ProgressRing.js","components/modify/Modify.js","components/logout/Logout.js","components/home/Home.js","App.js","serviceWorker.js","index.js"],"names":["StateContext","createContext","initialState","user","isAuthenticated","uid","username","avatar","drafts","twit","modify","new_draft","edit_draft","animations","overlay","loader_out","draft_delete","popover","toggle","type","index","buttonText","settings","toggleLogout","isLoading","StateProvider","reducer","children","Provider","value","useReducer","useStateValue","useContext","rootReducer","state","action","payload","Loader","container","useRef","endLoad","useEffect","ref","className","Settings","dispatch","toggleConfirmPopover","text","button_text","alt","src","onClick","setTimeout","style","margin","length","Controls","operator","Header","Footer","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","auth","GoogleAuthProvider","twitter","TwitterAuthProvider","FacebookAuthProvider","Login","loginWithTwitter","a","signInWithRedirect","then","result","userData","additionalUserInfo","profile","profile_image_url","replace","currentUser","twitterID","id","name","catch","e","console","error","onAuthStateChanged","account","userInfo","photoURL","providerData","displayName","marginTop","Popover","props","useState","animation","setAnimation","confirmText","setConfirmText","handleLogOut","signOut","closePopover","handleDeleteAccount","log","database","child","remove","delete","d","splice","set","handleDeleteDraft","handleDeleteAllDrafts","Draft","draft","handleEditDraft","Drafts","editArr","toggleModify","once","snapshot","data","val","JSON","parse","stringify","document","addEventListener","key","detectKeyDown","map","i","slice","renderDraft","paddingTop","paddingBottom","marginBottom","opacity","ProgressRing","goal","progress","count","initialAnimation","strokeWidth","styles","path","stroke","fill","Modify","disabled","setDisabled","setError","setText","original","setOriginal","copyStatus","setCopyStatus","charCount","setCharCount","charProgress","setCharProgress","inputRef","handleSubmitNewDraft","preventDefault","timestamp","moment","unix","push","update","current","handleProgressRing","Math","floor","handleCopyText","select","execCommand","focus","setSelectionRange","handleComposeNewTweet","encodedText","encodeURI","url","window","open","operation","closeEditModal","cancel","shiftKey","placeholder","maxLength","onChange","target","border","currDraft","fromNow","LogOut","toggleModal","showLogout","Home","App","Boolean","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.9832a19f.chunk.js","sourcesContent":["import React, { createContext, useContext, useReducer } from \"react\"\n\nexport const StateContext = createContext()\n\nexport const initialState = {\n  user: {\n    isAuthenticated: false,\n    uid: null,\n    username: null,\n    avatar: null,\n  },\n  drafts: [],\n  twit: {},\n  modify: {\n    new_draft: false,\n    edit_draft: [false, null]\n  },\n  animations: {\n    overlay: 'animate--fade-in',\n    loader_out: false,\n    draft_delete: ''\n  },\n  popover: {\n    toggle: false,\n    type: '',\n    index: null,\n    buttonText: ''\n  },\n  settings: {\n    toggle: false\n  },\n  toggleLogout: false,\n  isLoading: false\n}\n\nexport const StateProvider = ({ reducer, initialState, children }) => (\n  <StateContext.Provider value={useReducer(reducer, initialState)}>\n    {children}\n  </StateContext.Provider>\n)\n\nexport const useStateValue = () => useContext(StateContext)\n","export const rootReducer = (state, action) => {\n  switch (action.type) {\n    case \"user\":\n      return {\n        ...state,\n        user: action.payload\n      }\n    case \"drafts\":\n      return {\n        ...state,\n        drafts: action.payload\n      }\n    case \"twit\":\n      return {\n        ...state,\n        twit: action.payload\n      }\n    case \"animations\":\n      return {\n        ...state,\n        animations: action.payload\n      }\n    case \"toggleLoader\":\n      return {\n        ...state,\n        isLoading: action.payload\n      }\n    case \"settings\":\n      return {\n        ...state,\n        settings: action.payload\n      }\n    case \"popover\":\n      return {\n        ...state,\n        popover: action.payload\n      }\n    case \"toggleLogout\":\n      return {\n        ...state,\n        toggleLogout: action.payload\n      }\n    case \"modify\":\n      return {\n        ...state,\n        modify: action.payload\n      }\n    default:\n      return state\n  }\n}","import React, { useEffect, useRef } from \"react\"\nimport { useStateValue } from \"../../state\"\n\nconst Loader = () => {\n  const [{ isLoading, animations }] = useStateValue()\n  const container = useRef(null)\n\n  const endLoad = animations.loader_out\n\n  const handleLoaderAnimation = () => {\n    // overlay.current.style.opacity = 1\n  }\n\n  useEffect(() => {\n    if (animations.loader_out) {\n      handleLoaderAnimation()\n    }\n  }, [animations.loader_out])\n  if (isLoading) {\n    return (\n      <div ref={container} className=\"loader__container\">\n        <div className={`loader__body ${endLoad ? 'animate--fade-out' : ''}`}>\n          <span>\n            <span></span>\n            <span></span>\n            <span></span>\n            <span></span>\n          </span>\n          <div className={`loader__logo ${endLoad ? 'animate--fade-out' : ''}`} />\n        </div>\n        <div className={`longfazers ${endLoad ? 'animate--fade-out' : ''}`}>\n          <span></span>\n          <span></span>\n          <span></span>\n          <span></span>\n        </div>\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n\nexport default Loader\n","import React from 'react'\nimport { useStateValue } from '../../state'\n\nconst Settings = () => {\n    const [{ user, drafts, animations, settings, popover }, dispatch] = useStateValue()\n\n    const toggleSettings = () => {\n        dispatch({\n            type: 'animations',\n            payload: {\n                ...animations,\n                overlay: 'animate--fade-out'\n            }\n        })\n        setTimeout(() => {\n            dispatch({ type: 'settings', payload: { ...settings, toggle: false } })\n        }, 200)\n    }\n\n    const toggleConfirmPopover = (type, text) =>\n        dispatch({ type: 'popover', payload: { ...popover, toggle: true, type: type, button_text: text } })\n\n    if (settings.toggle) {\n        return (\n            <div className={`settings ${animations.overlay} ${popover.toggle ? 'blur' : ''}`}>\n                <div className=\"header--overlay\">\n                    <div className='header__avatar'>\n                        <img alt='Avatar' src={user.avatar} />\n                    </div>\n                    <button className='overlay__cancel' onClick={toggleSettings}>\n                        <img src='/close.svg' alt='Close Settings' />\n                    </button>\n                </div>\n                <h2 className='text text--large text--slim'>Settings</h2>\n                <p style={{ margin: 0 }} className='text text--medium text--slim text--light'>{user.username}</p>\n                <ul className='settings__list'>\n                    <li>\n                        <p className='text text--medium text--slim'>Drafts</p>\n                        <p className='settings__drafts text text--medium text--slim text--bold'>{drafts.length}</p>\n                    </li>\n                    <li>\n                        <p className='text text--medium text--slim'>Log out</p>\n                        <button onClick={() => toggleConfirmPopover('log_out', 'Logout')} className='popover__btn popover__btn--confirm'>\n                            Logout\n                        </button>\n                    </li>\n                    <li>\n                        <p className='text text--medium text--slim'>Delete all drafts</p>\n                        <button onClick={() => toggleConfirmPopover('draft_delete_all', 'Delete')} className='popover__btn'>\n                            Delete\n                        </button>\n                    </li>\n                    <li>\n                        <p className='text text--medium text--slim'>Delete my account</p>\n                        <button onClick={() => toggleConfirmPopover('account_delete', 'Delete')} className='popover__btn'>\n                            Delete\n                        </button>\n                    </li>\n                </ul>\n            </div>\n        )\n    } else {\n        return null\n    }\n}\n\nexport default Settings","import React from 'react'\nimport { useStateValue } from '../../state'\nimport Settings from '../settings/Settings'\n\nconst Controls = () => {\n    const [{ modify, animations }, dispatch] = useStateValue()\n\n    const toggleModify = operator => {\n        dispatch({\n            type: 'animations',\n            payload: {\n                ...animations,\n                overlay: 'animate--fade-in'\n            }\n        })\n        dispatch({ type: 'modify', payload: { ...modify, [operator]: true } })\n    }\n\n    const toggleSettings = () => {\n        dispatch({\n            type: 'animations',\n            payload: {\n                ...animations,\n                overlay: 'animate--fade-in'\n            }\n        })\n        dispatch({ type: 'settings', payload: { ...Settings, toggle: true } })\n    }\n\n    return (\n        <div className='controls'>\n            <button className='controls__button controls__button--add' onClick={() => toggleModify('new_draft')}>\n                <img src='/icons/close.svg' alt='Create new draft' />\n            </button>\n\n            <button className='controls__button controls__button--settings' onClick={() => toggleSettings()}>\n                <img src='/icons/settings.svg' alt='Settings' />\n            </button>\n        </div>\n    )\n}\n\nexport default Controls","import React from \"react\"\nimport { useStateValue } from \"../../state\"\nimport Controls from '../controls/Controls'\n\nconst Header = () => {\n  const [{ user, popover }] = useStateValue()\n\n  if (user.isAuthenticated) {\n    return (\n      <header className={`header ${popover.toggle ? 'blur' : ''}`}>\n        <div className='header__user'>\n          <div className='header__avatar'>\n            <img alt='Avatar' src={user.avatar} />\n          </div>\n        </div>\n        <div className='header__logo' />\n        <Controls />\n      </header>\n    )\n  } else {\n    return (\n      <header className=\"header header--login\">\n        <div className='header__logo header__logo--login' />\n        <h1 className='text text--large text--bold text--narrow' style={{ margin: \"0 0 3px 0\" }}>drafty</h1>\n      </header>\n    )\n  }\n}\n\nexport default Header\n","import React from \"react\"\n\nconst Footer = () => {\n  return (\n    <div className=\"text footer__container\">\n      <p>&copy; Drafty 2020</p>\n    </div>\n  )\n}\n\nexport default Footer\n","import firebase from 'firebase'\n\nconst config = {\n  apiKey: \"AIzaSyDogAtK4hVuw-_uiI4D5K0NWZc9j8gZUzU\",\n  authDomain: \"speek2-5f7d5.firebaseapp.com\",\n  databaseURL: \"https://speek2-5f7d5.firebaseio.com\",\n  projectId: \"speek2-5f7d5\",\n  storageBucket: \"speek2-5f7d5.appspot.com\",\n  messagingSenderId: \"797679846776\",\n  appId: \"1:797679846776:web:c92fd8300ccfa63746b48d\"\n}\n\nfirebase.initializeApp(config)\nexport const google = new firebase.auth.GoogleAuthProvider()\nexport const twitter = new firebase.auth.TwitterAuthProvider()\nexport const facebook = new firebase.auth.FacebookAuthProvider()\nexport const auth = firebase.auth()\nexport default firebase\n","import React, { useEffect } from \"react\"\nimport { useStateValue } from \"../../state\"\nimport Header from \"../header/Header\"\nimport Footer from \"../footer/Footer\"\nimport { twitter, auth } from \"../../utils/firebase\"\n\nconst Login = () => {\n  const [{ user, animations }, dispatch] = useStateValue()\n\n  const checkForPreviousLogin = () => {\n    auth.onAuthStateChanged(async account => {\n      try {\n        if (account) {\n          const userInfo = await account\n\n          let avatar = userInfo.photoURL\n          avatar = avatar.replace(\"_normal\", '')\n          dispatch({\n            type: \"user\",\n            payload: {\n              ...user,\n              isAuthenticated: true,\n              uid: auth.currentUser.uid,\n              twitterID: userInfo.providerData[0].uid,\n              username: userInfo.displayName,\n              avatar: avatar\n            }\n          })\n\n        }\n        setTimeout(() => {\n          dispatch({\n            type: 'animations',\n            payload: {\n              ...animations,\n              loader_out: true\n            }\n          })\n          setTimeout(() => {\n            dispatch({\n              type: 'toggleLoader',\n              payload: false\n            })\n          }, 200)\n        }, 1000)\n      } catch (e) {\n        console.error(\"Error fetching previous auth: \", e)\n      }\n    })\n  }\n\n  const loginWithTwitter = async () => {\n    auth.signInWithRedirect(twitter).then(async result => {\n      const userData = result.additionalUserInfo.profile\n\n      let avatar = userData.profile_image_url\n      avatar = avatar.replace(\"_normal\", '')\n\n      dispatch({\n        type: 'user',\n        payload: {\n          ...user,\n          isAuthenticated: true,\n          uid: auth.currentUser.uid,\n          twitterID: userData.id,\n          username: userData.name,\n          avatar: avatar\n        }\n      })\n\n      setTimeout(() => {\n        dispatch({\n          type: 'animations',\n          payload: {\n            ...animations,\n            loader_out: true\n          }\n        })\n        setTimeout(() => {\n          dispatch({\n            type: 'toggleLoader',\n            payload: false\n          })\n        }, 200)\n      }, 1000)\n\n    }).catch(e => console.error(e))\n  }\n\n\n  useEffect(() => {\n    dispatch({\n      type: \"toggleLoader\",\n      payload: true\n    })\n\n    checkForPreviousLogin()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  if (!user.isAuthenticated) {\n    return (\n      <div className=\"login__container\">\n        <Header />\n        <div className=\"login__links\">\n          <img alt='Home page art' src='/writer-beard.svg' />\n\n          <div style={{ marginTop: 30 }} className='placeholder'>\n            {/* <div className='placeholder__landing-art' /> */}\n            <button onClick={loginWithTwitter} className='placeholder__button placeholder__button--landing'>\n              <span className='btn__inner'>\n                <span className='icon fas btn-text-one text text--small text--slim'>Login with Twitter</span>\n                <span className='btn-text--twitter' />\n              </span>\n            </button>\n          </div>\n        </div>\n        <Footer />\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n\nexport default Login\n","import React, { useState, useEffect } from 'react'\nimport { useStateValue } from '../../state'\nimport firebase, { auth } from \"../../utils/firebase\"\n\nconst Popover = props => {\n    const [{ popover, drafts, user, animations }, dispatch] = useStateValue()\n    const [animation, setAnimation] = useState('animate--fade-in')\n    const [confirmText, setConfirmText] = useState('')\n\n    const handleLogOut = () => {\n        auth.signOut()\n            .then(() => {\n                const u = {}\n                dispatch({\n                    type: 'user',\n                    payload: {\n                        ...u,\n                        isAuthenticated: false\n                    }\n                })\n\n                dispatch({\n                    type: 'drafts',\n                    payload: []\n                })\n                closePopover()\n            })\n    }\n\n    const handleDeleteDraft = () => {\n        let d = drafts\n        d.splice(popover.index, 1)\n        dispatch({\n            type: 'drafts',\n            payload: d\n        })\n\n        try {\n            firebase\n                .database()\n                .ref(`/users/${user.uid}`)\n                .child(\"drafts\")\n                .set(d)\n\n            closePopover()\n        } catch (e) {\n            console.error(e)\n        }\n    }\n\n    const handleDeleteAllDrafts = () => {\n\n        dispatch({\n            type: 'drafts',\n            payload: []\n        })\n\n        try {\n            firebase\n                .database()\n                .ref(`/users/${user.uid}`)\n                .child(\"drafts\")\n                .set([])\n\n            closePopover()\n        } catch (e) {\n            console.error(e)\n        }\n    }\n\n    const handleDeleteAccount = async () => {\n        const user = firebase.auth().currentUser\n        console.log(`deleting ${user.uid}`)\n\n        try {\n            firebase\n                .database()\n                .ref(`/users`)\n                .child(user.uid)\n                .remove()\n            await user.delete()\n            handleLogOut()\n        } catch (e) {\n            console.error(e)\n        }\n    }\n\n    const closePopover = () => {\n        setAnimation('animate--fade-out')\n        dispatch({\n            type: 'popover',\n            payload: {\n                toggle: false,\n                index: null\n            }\n        })\n        setTimeout(() => {\n            setAnimation('animate--fade-in')\n        }, 200)\n    }\n\n    const confirmButtonFunction = () => {\n        const { type, index } = popover\n        if (type === 'draft_delete') {\n            return handleDeleteDraft(index)\n        }\n        if (type === 'draft_delete_all') {\n            return handleDeleteAllDrafts()\n        }\n        if (type === 'account_delete') {\n            return handleDeleteAccount()\n        }\n\n        if (type === 'log_out') {\n            return handleLogOut()\n        }\n\n    }\n\n    useEffect(() => {\n        if (popover.toggle) {\n            const { type } = popover\n            if (type === 'draft_delete') setConfirmText('delete this draft')\n            if (type === 'log_out') setConfirmText('log out')\n            if (type === 'draft_delete_all') setConfirmText('delete your drafts')\n            if (type === 'account_delete') setConfirmText('delete your account')\n        }\n    }, [popover.toggle])\n\n    if (popover.toggle) {\n        return (\n            <div className={`popover ${animation}`}>\n                <div className='popover__inner'>\n                    <p className='text text--medium text--bold text--center'>Are you sure you want to {confirmText}?</p>\n                    <div className='popover__row'>\n                        <button onClick={closePopover} className='popover__btn popover__btn--confirm'>Cancel</button>\n                        <button onClick={confirmButtonFunction} className='popover__btn'>\n                            {popover.button_text}\n                        </button>\n                    </div>\n                </div>\n            </div>\n        )\n    } else {\n        return null\n    }\n}\n\nexport default Popover","import React from 'react'\nimport { useStateValue } from '../../state'\n\nconst Draft = props => {\n    const [{ animations }] = useStateValue()\n    const draft = props.draft\n    return (\n        <div className={`draft ${animations.draft_delete}`}>\n            <div onClick={() => props.handleEditDraft(props.index)} className='draft__clickable-wrapper'>\n                <p className='draft__text'>\n                    {draft.text}\n                </p>\n            </div>\n            <button className='draft__delete' onClick={() => props.handleDeleteDraft(props.index)}>\n                <img src='/icons/trash.svg' alt='Delete this draft' />\n            </button>\n        </div>\n    )\n}\n\nexport default Draft","import React, { useEffect } from \"react\"\nimport { useStateValue } from \"../../state\"\nimport firebase from \"../../utils/firebase\"\nimport Draft from './Draft'\n\nconst Drafts = () => {\n  const [\n    {\n      user,\n      modify,\n      drafts,\n      animations,\n      popover\n    },\n    dispatch] = useStateValue()\n\n  const getExistingUserData = () => {\n    dispatch({\n      type: 'toggleLoader',\n      payload: true\n    })\n    firebase.database()\n      .ref('/users/' + user.uid)\n      .once('value')\n      .then(snapshot => {\n        try {\n          const data = snapshot.val()\n          if (data) {\n            if (data.drafts && data.drafts.length > 0) {\n              dispatch({\n                type: 'drafts',\n                payload: data.drafts\n              })\n            }\n            dispatch({\n              type: 'toggleLoader',\n              payload: false\n            })\n          } else {\n            console.log(user)\n            const userData = {\n              twitterID: user.twitterID,\n              uid: user.uid\n            }\n            firebase.database()\n              .ref(`/users/${user.uid}/`)\n              .set(JSON.parse(JSON.stringify(userData)))\n          }\n        }\n        catch (e) {\n          console.error(e)\n        }\n      })\n  }\n\n  const handleEditDraft = index => {\n    const editArr = [true, index]\n    dispatch({\n      type: 'animations',\n      payload: {\n        ...animations,\n        overlay: 'animate--fade-in'\n      }\n    })\n    dispatch({\n      type: 'modify',\n      payload: {\n        ...modify,\n        edit_draft: editArr\n      }\n    })\n  }\n\n  const handleDeleteDraft = index => {\n    dispatch({\n      type: 'modify',\n      payload: {\n        ...modify,\n        edit_draft: [false, index]\n      }\n    })\n    dispatch({\n      type: 'popover',\n      payload: {\n        toggle: true,\n        type: 'draft_delete',\n        index: index,\n        button_text: 'Delete'\n      }\n    })\n\n  }\n\n  const toggleModify = () => {\n    dispatch({ type: 'modify', payload: { ...modify, new_draft: true } })\n    dispatch({\n      type: 'animations',\n      payload: {\n        ...animations,\n        overlay: 'animate--fade-in'\n      }\n    })\n  }\n\n  const detectKeyDown = e => {\n    if (e.key === '=') {\n      setTimeout(() => {\n        toggleModify()\n      }, 100)\n    }\n  }\n\n  useEffect(() => {\n    getExistingUserData()\n    document.addEventListener('keypress', e => detectKeyDown(e))\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const renderDraft = (draft, i) =>\n    <Draft key={draft.text.slice(0, 10)}\n      draft={draft}\n      index={i}\n      handleEditDraft={handleEditDraft}\n      handleDeleteDraft={handleDeleteDraft} />\n\n  if (user.isAuthenticated) {\n    if (drafts && drafts.length) {\n      return (\n        <div className={`drafts__container animate--fade-in ${popover.toggle ? 'blur' : ''}`}>\n          <div className='drafts animate--fade-in'>\n            {drafts.map((draft, i) => renderDraft(draft, i))}\n            <div style={{ paddingTop: 10, paddingBottom: 10 }} className='placeholder'>\n              <button style={{ marginTop: 20, marginBottom: 20 }} onClick={toggleModify} className='placeholder__button'>\n                <span className='btn__inner'>\n                  <span className='icon fas btn-text-one text--slim'>Add new draft</span>\n                  <span className='icon fas btn-text-two' />\n                </span>\n              </button>\n            </div>\n\n          </div>\n          <button className='drafts__add-mobile' onClick={toggleModify}>\n            <img src='/icons/close.svg' alt='Create new draft' />\n          </button>\n        </div>\n      )\n    } else {\n      return (\n        <div className='drafts__container animate--fade-in'>\n          <div className='drafts placeholder'>\n            <div className='placeholder__art' />\n\n            <button onClick={toggleModify} className='placeholder__button'>\n              <span className='btn__inner'>\n                <span className='icon fas btn-text-one text--slim'>Create a draft</span>\n                <span className='icon fas btn-text-two' />\n              </span>\n            </button>\n\n          </div>\n          <button style={popover.toggle ? { opacity: 0 } : null} className='drafts__add-mobile' onClick={toggleModify}>\n            <img src='/add.svg' alt='Create new draft' />\n          </button>\n        </div>\n      )\n    }\n  } else {\n    return null\n  }\n}\n\nexport default Drafts\n","import React from 'react'\nimport { CircularProgressbar, buildStyle } from 'react-circular-progressbar'\nimport 'react-circular-progressbar/dist/styles.css'\n\nconst ProgressRing = props => {\n  return (\n    <div className={props.goal > 0 ? 'progress-ring__container' : 'hidden'}>\n      <CircularProgressbar\n        value={props.progress}\n        text={props.count}\n        initialAnimation={true}\n        strokeWidth={5}\n        className='progress-ring__circle-chart'\n        styles={{\n          path: {\n            stroke: `${props.progress > 0 && props.progress <= 33.333\n              ? '#8ffdfc'\n              : props.progress > 33.333 && props.progress <= 50\n                ? '#8fc1fc'\n                : props.progress > 51 && props.progress <= 66.6666\n                  ? '#c363a5'\n                  : props.progress > 67 && props.progress <= 80\n                    ? '#c43f9a'\n                    : props.progress > 81 && props.progress <= 100\n                      ? '#db1c87'\n                      : props.progress >= 100\n                        ? '#f04100'\n                        : null}`\n          },\n          text: {\n            fill: `${props.progress > 0 && props.progress <= 33.333\n              ? '#8ffdfc'\n              : props.progress > 33.333 && props.progress <= 50\n                ? '#8fc1fc'\n                : props.progress > 51 && props.progress <= 66.6666\n                  ? '#c363a5'\n                  : props.progress > 67 && props.progress <= 80\n                    ? '#c43f9a'\n                    : props.progress > 81 && props.progress <= 100\n                      ? '#db1c87'\n                      : props.progress >= 100\n                        ? '#f04100'\n                        : null}`\n          }\n        }}\n      />\n    </div>\n  )\n}\n\nexport default ProgressRing\n","import React, { useState, useRef, useEffect } from \"react\"\nimport { useStateValue } from \"../../state\"\nimport firebase from \"firebase\"\nimport moment from 'moment'\nimport ProgressRing from '../shared/progress-ring/ProgressRing'\n\nconst Modify = () => {\n  const [disabled, setDisabled] = useState(true),\n    [error, setError] = useState(false),\n    [text, setText] = useState(''),\n    [original, setOriginal] = useState(''),\n    [copyStatus, setCopyStatus] = useState('Copy'),\n    [charCount, setCharCount] = useState(0),\n    [charProgress, setCharProgress] = useState(0),\n    [{ user, modify, drafts, animations }, dispatch] = useStateValue(),\n    inputRef = useRef(null)\n\n  const handleSubmitNewDraft = e => {\n    e.preventDefault()\n    const d = drafts\n    const data = {\n      text: text,\n      timestamp: moment().unix()\n    }\n    d.push(data)\n    dispatch({\n      type: 'drafts',\n      payload: d\n    })\n\n    try {\n      firebase\n        .database()\n        .ref(`/users/${user.uid}`)\n        .child(\"drafts\")\n        .update(d)\n\n      inputRef.current.value = ''\n      toggleModify(\"new_draft\")\n    } catch (e) {\n      setError(true)\n      setDisabled(true)\n      console.error(e)\n    }\n  }\n\n  const handleSubmitEditDraft = e => {\n    e.preventDefault()\n\n    try {\n      firebase\n        .database()\n        .ref(`/users/${user.uid}`)\n        .child(\"drafts\")\n        .update(drafts)\n\n      closeEditModal(false)\n    } catch (e) {\n      setError(true)\n      setDisabled(true)\n      console.error(e)\n    }\n  }\n\n  const handleTextInput = e => {\n    const text = e.target.value\n    setText(text)\n    setCharCount(text.length)\n    handleProgressRing(text.length)\n    if (text.length > 0) {\n      setDisabled(false)\n    } else {\n      setDisabled(true)\n    }\n  }\n\n  const handleProgressRing = count =>\n    setCharProgress(Math.floor((count / 280) * 100))\n\n  const handleCopyText = e => {\n    e.preventDefault()\n    inputRef.current.select()\n    document.execCommand('copy')\n    setCopyStatus(<img className='modify__button--tick' alt='Text Copied' src=\"/icons/check.svg\" />)\n    inputRef.current.focus()\n    inputRef.current.setSelectionRange(charCount, charCount)\n\n    setTimeout(() => {\n      setCopyStatus('Copy')\n    }, 1500)\n  }\n\n  const handleComposeNewTweet = e => {\n    e.preventDefault()\n    const encodedText = encodeURI(text)\n    const url = `https://twitter.com/intent/tweet?text=${encodedText}`\n    window.open(url, '_blank')\n    inputRef.current.focus()\n    inputRef.current.setSelectionRange(charCount, charCount)\n  }\n\n  const handleEditDraftInput = e => {\n    const text = e.target.value\n    setText(text)\n    let d = drafts\n    d[modify.edit_draft[1]].text = text\n    d[modify.edit_draft[1]].timestamp = moment().unix()\n    dispatch({\n      type: 'drafts',\n      payload: drafts\n    })\n  }\n\n  const toggleModify = operation => {\n    dispatch({\n      type: 'animations',\n      payload: {\n        ...animations,\n        overlay: 'animate--fade-out'\n      }\n    })\n    setTimeout(() => {\n      dispatch({ type: \"modify\", payload: { ...modify, [operation]: false } })\n      setDisabled(true)\n    }, 200)\n  }\n\n  const closeEditModal = cancel => {\n    let d = drafts\n    if (cancel) {\n      d[modify.edit_draft[1]].text = original\n      dispatch({\n        type: 'drafts',\n        payload: drafts\n      })\n    }\n    dispatch({\n      type: 'animations',\n      payload: {\n        ...animations,\n        overlay: 'animate--fade-out'\n      }\n    })\n    setDisabled(true)\n    setTimeout(() => {\n      dispatch({ type: 'modify', payload: { ...modify, edit_draft: [false, null] } })\n    }, 200)\n  }\n\n  const detectKeyDown = e => {\n    if (e.shiftKey) {\n      if (e.key === 'Enter')\n        console.log('hit')\n      if (modify.new_draft) {\n        handleSubmitNewDraft(e)\n      }\n\n    }\n  }\n\n  useEffect(() => {\n    setCharCount(0)\n    handleProgressRing(0)\n    if (modify.new_draft || modify.edit_draft[0]) {\n      document.addEventListener('keypress', e => detectKeyDown(e))\n      inputRef.current.focus()\n      inputRef.current.setSelectionRange(charCount, charCount)\n      if (modify.edit_draft[0]) {\n        setOriginal(drafts[modify.edit_draft[1]].text)\n        setText(drafts[modify.edit_draft[1]].text)\n        setDisabled(false)\n        setCharCount(drafts[modify.edit_draft[1]].text.length)\n        handleProgressRing(drafts[modify.edit_draft[1]].text.length)\n      }\n    }\n  }, [modify.edit_draft, original, drafts, modify.new_draft])\n\n  if (modify.new_draft) {\n    return (\n      <div className={`modify__container modify--open ${animations.overlay}`}>\n        <div className=\"header--overlay\">\n          <div className='header__avatar'>\n            <img alt='Avatar' src={user.avatar} />\n          </div>\n          <button className='overlay__cancel' onClick={() => toggleModify('new_draft')}>\n            <img src='/close.svg' alt='Close this page' />\n          </button>\n        </div>\n        <form>\n          <textarea\n            type=\"text\"\n            placeholder=\"What's your idea?\"\n            className=\"modify__input\"\n            maxLength={10000}\n            onChange={handleTextInput}\n            ref={inputRef}\n            style={error ? { border: \"2px solid red\" } : null}\n          />\n          <p className={error ? \"modify__error\" : \"hidden\"}>\n            Something's gone wrong. You may want to try refreshing the page.\n          </p>\n          <div className='modify__controls'>\n            <div className='modify__char-count'>\n              <ProgressRing goal={280} progress={charProgress} count={charCount} />\n            </div>\n            <button\n              className=\"modify__button\"\n              onClick={handleCopyText}\n              disabled={disabled || error}\n            >\n              {copyStatus}\n            </button>\n            <button\n              className=\"modify__button\"\n              onClick={handleComposeNewTweet}\n              disabled={disabled || error}\n            >\n              Tweet\n            </button>\n            <button\n              className=\"modify__button modify__button--save\"\n              onClick={handleSubmitNewDraft}\n              disabled={disabled || error}\n            >\n              Save\n            </button>\n          </div>\n        </form>\n      </div>\n    )\n  } else if (modify.edit_draft[0]) {\n    const currDraft = drafts[modify.edit_draft[1]]\n    const timestamp = moment.unix(currDraft.timestamp).fromNow()\n    return (\n      <div className={`modify__container modify--open ${animations.overlay}`}>\n        <div className=\"header--overlay\">\n          <div className='header__avatar'>\n            <img alt='Avatar' src={user.avatar} />\n          </div>\n          <button className='overlay__cancel' onClick={() => closeEditModal(true)}>\n            <img src='/close.svg' alt='Close this page' />\n          </button>\n        </div>\n        <form>\n          <textarea\n            type=\"text\"\n            placeholder=\"What's your idea?\"\n            className=\"modify__input\"\n            maxLength={10000}\n            onChange={handleEditDraftInput}\n            value={drafts[modify.edit_draft[1]].text}\n            ref={inputRef}\n            style={error ? { border: \"2px solid red\" } : null}\n          />\n          <p className={error ? \"modify__error\" : \"hidden\"}>\n            Something's gone wrong. You may want to try refreshing the page.\n          </p>\n          <div className='modify__controls-container'>\n            <div className='modify__controls'>\n\n              <ProgressRing goal={280} progress={charProgress} count={charCount} />\n              <button\n                className=\"modify__button\"\n                onClick={handleCopyText}\n                disabled={disabled || error}\n              >\n                {copyStatus}\n              </button>\n              <button\n                className=\"modify__button\"\n                onClick={handleComposeNewTweet}\n                disabled={disabled || error}\n              >\n                Tweet\n</button>\n              <button\n                className=\"modify__button modify__button--save\"\n                onClick={handleSubmitEditDraft}\n                disabled={disabled || error}\n              >\n                Save\n</button>\n            </div>\n            <div className='modify__timestamp'>\n              <p className='text text--tiny text--light text--slim'>\n                <em>last modified {timestamp}</em>\n              </p>\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n\nexport default Modify\n","import React from 'react'\nimport Footer from '../footer/Footer'\nimport { useStateValue } from '../../state'\nimport { auth } from '../../utils/firebase'\n\nconst LogOut = props => {\n  const [{ user, toggleLogout, animations }, dispatch] = useStateValue()\n\n  const toggleModal = () => {\n    dispatch({\n      type: 'animations',\n      payload: {\n        ...animations,\n        overlay: 'animate--fade-out'\n      }\n    })\n    setTimeout(() => {\n      dispatch({ type: 'toggleLogout', payload: false })\n    }, 200)\n  }\n\n  const handleLogOut = () => {\n    auth.signOut()\n      .then(() => {\n        dispatch({\n          type: 'user',\n          payload: {\n            ...user,\n            isAuthenticated: false\n          }\n        })\n        toggleModal()\n      })\n  }\n\n  const showLogout = toggleLogout ? `logout__container ${animations.overlay}` : `hidden ${animations.overlay}`\n  return (\n    <div className={showLogout}>\n      <div className='header--overlay'>\n        <div className='header__avatar'>\n          <img alt='Avatar' src={user.avatar} />\n        </div>\n        <button className='overlay__cancel' onClick={toggleModal}>\n          <img src='/close.svg' alt='Close this page' />\n        </button>\n      </div>\n      <div className='logout'>\n        <p className='text text--medium text--slim'>Are you sure?</p>\n        <div className='placeholder'>\n          <button onClick={handleLogOut} className='placeholder__button'>\n            <span className='btn__inner'>\n              <span className='icon fas btn-text-one text text--small text--slim'>Log Out</span>\n              <span className='icon btn-text--logout' />\n            </span>\n          </button>\n        </div>\n      </div>\n      <Footer />\n    </div>\n  )\n}\n\nexport default LogOut\n","import React from 'react'\nimport { useStateValue } from '../../state'\nimport Header from '../header/Header'\nimport Drafts from '../drafts/Drafts'\nimport Modify from '../modify/Modify'\nimport Settings from '../settings/Settings'\nimport LogOut from '../logout/Logout'\n\nconst Home = () => {\n    const [{ user }] = useStateValue()\n\n    if (user.isAuthenticated) {\n        return (\n            <>\n                <Header />\n                <Drafts />\n                <Modify />\n                <Settings />\n                <LogOut />\n            </>\n        )\n    } else {\n        return null\n    }\n}\n\nexport default Home\n\n\n//   detectKeyDown = e => {\n//     switch( e.key ) {\n//       case ']':\n//         this.toggleAddCalories()\n//         break\n//       case '[':\n//         this.toggleSubtractCalories()\n//         break\n//       case 'Escape':\n//         this.setState({\n//           toggle_add: false,\n//           toggle_subtract: false,\n//           toggle_logout: false,\n//           toggle_change_goal: false\n//         })\n//         break\n//       case 'g':\n//         this.toggleChangeGoal()\n//         break\n//       default:\n//         break\n//     }\n//   }","import React from \"react\"\nimport { StateProvider, initialState } from \"./state\"\nimport { rootReducer } from \"./reducers\"\nimport Loader from \"./components/loader\"\nimport Login from \"./components/login/Login\"\nimport Popover from './components/popover/Popover'\nimport Div100vh from \"react-div-100vh\"\nimport Home from \"./components/home/Home\"\nimport \"./App.scss\"\n\nfunction App() {\n  return (\n    <StateProvider initialState={initialState} reducer={rootReducer}>\n      <Div100vh className=\"app\">\n        <main className=\"app__wrapper\">\n          <div className='app__inner'>\n            <Loader />\n            <Login />\n            <Home />\n          </div>\n          <Popover />\n        </main>\n      </Div100vh>\n    </StateProvider>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\nserviceWorker.unregister()\n"],"sourceRoot":""}