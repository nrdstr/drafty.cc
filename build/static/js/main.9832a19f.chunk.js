(window.webpackJsonpfit=window.webpackJsonpfit||[]).push([[0],{17:function(e,t,a){e.exports=a(42)},22:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(13),c=a.n(o),l=(a(22),Object(r.createContext)()),s={user:{isAuthenticated:!1,uid:null,username:null,avatar:null},drafts:[],twit:{},modify:{new_draft:!1,edit_draft:[!1,null]},animations:{overlay:"animate--fade-in",loader_out:!1,draft_delete:""},popover:{toggle:!1,type:"",index:null,buttonText:""},settings:{toggle:!1},toggleLogout:!1,isLoading:!1},i=function(e){var t=e.reducer,a=e.initialState,o=e.children;return n.a.createElement(l.Provider,{value:Object(r.useReducer)(t,a)},o)},u=function(){return Object(r.useContext)(l)},d=a(4);function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var f=function(e,t){switch(t.type){case"user":return p({},e,{user:t.payload});case"drafts":return p({},e,{drafts:t.payload});case"twit":return p({},e,{twit:t.payload});case"animations":return p({},e,{animations:t.payload});case"toggleLoader":return p({},e,{isLoading:t.payload});case"settings":return p({},e,{settings:t.payload});case"popover":return p({},e,{popover:t.payload});case"toggleLogout":return p({},e,{toggleLogout:t.payload});case"modify":return p({},e,{modify:t.payload});default:return e}},y=a(3),g=function(){var e=u(),t=Object(y.a)(e,1)[0],a=t.isLoading,o=t.animations,c=Object(r.useRef)(null),l=o.loader_out;return Object(r.useEffect)((function(){o.loader_out}),[o.loader_out]),a?n.a.createElement("div",{ref:c,className:"loader__container"},n.a.createElement("div",{className:"loader__body ".concat(l?"animate--fade-out":"")},n.a.createElement("span",null,n.a.createElement("span",null),n.a.createElement("span",null),n.a.createElement("span",null),n.a.createElement("span",null)),n.a.createElement("div",{className:"loader__logo ".concat(l?"animate--fade-out":"")})),n.a.createElement("div",{className:"longfazers ".concat(l?"animate--fade-out":"")},n.a.createElement("span",null),n.a.createElement("span",null),n.a.createElement("span",null),n.a.createElement("span",null))):null},b=a(6),v=a.n(b),_=a(8);function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var h=function(){var e=u(),t=Object(y.a)(e,2),a=t[0],r=a.user,o=a.drafts,c=a.animations,l=a.settings,s=a.popover,i=t[1],d=function(e,t){return i({type:"popover",payload:O({},s,{toggle:!0,type:e,button_text:t})})};return l.toggle?n.a.createElement("div",{className:"settings ".concat(c.overlay," ").concat(s.toggle?"blur":"")},n.a.createElement("div",{className:"header--overlay"},n.a.createElement("div",{className:"header__avatar"},n.a.createElement("img",{alt:"Avatar",src:r.avatar})),n.a.createElement("button",{className:"overlay__cancel",onClick:function(){i({type:"animations",payload:O({},c,{overlay:"animate--fade-out"})}),setTimeout((function(){i({type:"settings",payload:O({},l,{toggle:!1})})}),200)}},n.a.createElement("img",{src:"/close.svg",alt:"Close Settings"}))),n.a.createElement("h2",{className:"text text--large text--slim"},"Settings"),n.a.createElement("p",{style:{margin:0},className:"text text--medium text--slim text--light"},r.username),n.a.createElement("ul",{className:"settings__list"},n.a.createElement("li",null,n.a.createElement("p",{className:"text text--medium text--slim"},"Drafts"),n.a.createElement("p",{className:"settings__drafts text text--medium text--slim text--bold"},o.length)),n.a.createElement("li",null,n.a.createElement("p",{className:"text text--medium text--slim"},"Log out"),n.a.createElement("button",{onClick:function(){return d("log_out","Logout")},className:"popover__btn popover__btn--confirm"},"Logout")),n.a.createElement("li",null,n.a.createElement("p",{className:"text text--medium text--slim"},"Delete all drafts"),n.a.createElement("button",{onClick:function(){return d("draft_delete_all","Delete")},className:"popover__btn"},"Delete")),n.a.createElement("li",null,n.a.createElement("p",{className:"text text--medium text--slim"},"Delete my account"),n.a.createElement("button",{onClick:function(){return d("account_delete","Delete")},className:"popover__btn"},"Delete")))):null};function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var N=function(){var e=u(),t=Object(y.a)(e,2),a=t[0],r=a.modify,o=a.animations,c=t[1];return n.a.createElement("div",{className:"controls"},n.a.createElement("button",{className:"controls__button controls__button--add",onClick:function(){return e="new_draft",c({type:"animations",payload:w({},o,{overlay:"animate--fade-in"})}),void c({type:"modify",payload:w({},r,Object(d.a)({},e,!0))});var e}},n.a.createElement("img",{src:"/icons/close.svg",alt:"Create new draft"})),n.a.createElement("button",{className:"controls__button controls__button--settings",onClick:function(){return c({type:"animations",payload:w({},o,{overlay:"animate--fade-in"})}),void c({type:"settings",payload:w({},h,{toggle:!0})})}},n.a.createElement("img",{src:"/icons/settings.svg",alt:"Settings"})))},x=function(){var e=u(),t=Object(y.a)(e,1)[0],a=t.user,r=t.popover;return a.isAuthenticated?n.a.createElement("header",{className:"header ".concat(r.toggle?"blur":"")},n.a.createElement("div",{className:"header__user"},n.a.createElement("div",{className:"header__avatar"},n.a.createElement("img",{alt:"Avatar",src:a.avatar}))),n.a.createElement("div",{className:"header__logo"}),n.a.createElement(N,null)):n.a.createElement("header",{className:"header header--login"},n.a.createElement("div",{className:"header__logo header__logo--login"}),n.a.createElement("h1",{className:"text text--large text--bold text--narrow",style:{margin:"0 0 3px 0"}},"drafty"))},P=function(){return n.a.createElement("div",{className:"text footer__container"},n.a.createElement("p",null,"\xa9 Drafty 2020"))},k=a(7),D=a.n(k);D.a.initializeApp({apiKey:"AIzaSyDogAtK4hVuw-_uiI4D5K0NWZc9j8gZUzU",authDomain:"speek2-5f7d5.firebaseapp.com",databaseURL:"https://speek2-5f7d5.firebaseio.com",projectId:"speek2-5f7d5",storageBucket:"speek2-5f7d5.appspot.com",messagingSenderId:"797679846776",appId:"1:797679846776:web:c92fd8300ccfa63746b48d"});new D.a.auth.GoogleAuthProvider;var C=new D.a.auth.TwitterAuthProvider,S=(new D.a.auth.FacebookAuthProvider,D.a.auth()),A=D.a;function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var I=function(){var e=u(),t=Object(y.a)(e,2),a=t[0],o=a.user,c=a.animations,l=t[1],s=function(){var e=Object(_.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.signInWithRedirect(C).then(function(){var e=Object(_.a)(v.a.mark((function e(t){var a,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.additionalUserInfo.profile,r=(r=a.profile_image_url).replace("_normal",""),l({type:"user",payload:T({},o,{isAuthenticated:!0,uid:S.currentUser.uid,twitterID:a.id,username:a.name,avatar:r})}),setTimeout((function(){l({type:"animations",payload:T({},c,{loader_out:!0})}),setTimeout((function(){l({type:"toggleLoader",payload:!1})}),200)}),1e3);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.error(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){l({type:"toggleLoader",payload:!0}),S.onAuthStateChanged(function(){var e=Object(_.a)(v.a.mark((function e(t){var a,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=8;break}return e.next=4,t;case 4:a=e.sent,r=(r=a.photoURL).replace("_normal",""),l({type:"user",payload:T({},o,{isAuthenticated:!0,uid:S.currentUser.uid,twitterID:a.providerData[0].uid,username:a.displayName,avatar:r})});case 8:setTimeout((function(){l({type:"animations",payload:T({},c,{loader_out:!0})}),setTimeout((function(){l({type:"toggleLoader",payload:!1})}),200)}),1e3),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error fetching previous auth: ",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())}),[]),o.isAuthenticated?null:n.a.createElement("div",{className:"login__container"},n.a.createElement(x,null),n.a.createElement("div",{className:"login__links"},n.a.createElement("img",{alt:"Home page art",src:"/writer-beard.svg"}),n.a.createElement("div",{style:{marginTop:30},className:"placeholder"},n.a.createElement("button",{onClick:s,className:"placeholder__button placeholder__button--landing"},n.a.createElement("span",{className:"btn__inner"},n.a.createElement("span",{className:"icon fas btn-text-one text text--small text--slim"},"Login with Twitter"),n.a.createElement("span",{className:"btn-text--twitter"}))))),n.a.createElement(P,null))};function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function U(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var W=function(e){var t=u(),a=Object(y.a)(t,2),o=a[0],c=o.popover,l=o.drafts,s=o.user,i=(o.animations,a[1]),d=Object(r.useState)("animate--fade-in"),m=Object(y.a)(d,2),p=m[0],f=m[1],g=Object(r.useState)(""),b=Object(y.a)(g,2),E=b[0],O=b[1],h=function(){S.signOut().then((function(){i({type:"user",payload:U({},{},{isAuthenticated:!1})}),i({type:"drafts",payload:[]}),w()}))},j=function(){var e=Object(_.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=A.auth().currentUser,console.log("deleting ".concat(t.uid)),e.prev=2,A.database().ref("/users").child(t.uid).remove(),e.next=6,t.delete();case 6:h(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),w=function(){f("animate--fade-out"),i({type:"popover",payload:{toggle:!1,index:null}}),setTimeout((function(){f("animate--fade-in")}),200)};return Object(r.useEffect)((function(){if(c.toggle){var e=c.type;"draft_delete"===e&&O("delete this draft"),"log_out"===e&&O("log out"),"draft_delete_all"===e&&O("delete your drafts"),"account_delete"===e&&O("delete your account")}}),[c.toggle]),c.toggle?n.a.createElement("div",{className:"popover ".concat(p)},n.a.createElement("div",{className:"popover__inner"},n.a.createElement("p",{className:"text text--medium text--bold text--center"},"Are you sure you want to ",E,"?"),n.a.createElement("div",{className:"popover__row"},n.a.createElement("button",{onClick:w,className:"popover__btn popover__btn--confirm"},"Cancel"),n.a.createElement("button",{onClick:function(){var e=c.type;c.index;return"draft_delete"===e?function(){var e=l;e.splice(c.index,1),i({type:"drafts",payload:e});try{A.database().ref("/users/".concat(s.uid)).child("drafts").set(e),w()}catch(t){console.error(t)}}():"draft_delete_all"===e?function(){i({type:"drafts",payload:[]});try{A.database().ref("/users/".concat(s.uid)).child("drafts").set([]),w()}catch(e){console.error(e)}}():"account_delete"===e?j():"log_out"===e?h():void 0},className:"popover__btn"},c.button_text)))):null},B=a(15),z=a.n(B),J=function(e){var t=u(),a=Object(y.a)(t,1)[0].animations,r=e.draft;return n.a.createElement("div",{className:"draft ".concat(a.draft_delete)},n.a.createElement("div",{onClick:function(){return e.handleEditDraft(e.index)},className:"draft__clickable-wrapper"},n.a.createElement("p",{className:"draft__text"},r.text)),n.a.createElement("button",{className:"draft__delete",onClick:function(){return e.handleDeleteDraft(e.index)}},n.a.createElement("img",{src:"/icons/trash.svg",alt:"Delete this draft"})))};function K(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function F(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?K(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):K(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Y=function(){var e=u(),t=Object(y.a)(e,2),a=t[0],o=a.user,c=a.modify,l=a.drafts,s=a.animations,i=a.popover,d=t[1],m=function(e){var t=[!0,e];d({type:"animations",payload:F({},s,{overlay:"animate--fade-in"})}),d({type:"modify",payload:F({},c,{edit_draft:t})})},p=function(e){d({type:"modify",payload:F({},c,{edit_draft:[!1,e]})}),d({type:"popover",payload:{toggle:!0,type:"draft_delete",index:e,button_text:"Delete"}})},f=function(){d({type:"modify",payload:F({},c,{new_draft:!0})}),d({type:"animations",payload:F({},s,{overlay:"animate--fade-in"})})};Object(r.useEffect)((function(){d({type:"toggleLoader",payload:!0}),A.database().ref("/users/"+o.uid).once("value").then((function(e){try{var t=e.val();if(t)t.drafts&&t.drafts.length>0&&d({type:"drafts",payload:t.drafts}),d({type:"toggleLoader",payload:!1});else{console.log(o);var a={twitterID:o.twitterID,uid:o.uid};A.database().ref("/users/".concat(o.uid,"/")).set(JSON.parse(JSON.stringify(a)))}}catch(r){console.error(r)}})),document.addEventListener("keypress",(function(e){return function(e){"="===e.key&&setTimeout((function(){f()}),100)}(e)}))}),[]);return o.isAuthenticated?l&&l.length?n.a.createElement("div",{className:"drafts__container animate--fade-in ".concat(i.toggle?"blur":"")},n.a.createElement("div",{className:"drafts animate--fade-in"},l.map((function(e,t){return function(e,t){return n.a.createElement(J,{key:e.text.slice(0,10),draft:e,index:t,handleEditDraft:m,handleDeleteDraft:p})}(e,t)})),n.a.createElement("div",{style:{paddingTop:10,paddingBottom:10},className:"placeholder"},n.a.createElement("button",{style:{marginTop:20,marginBottom:20},onClick:f,className:"placeholder__button"},n.a.createElement("span",{className:"btn__inner"},n.a.createElement("span",{className:"icon fas btn-text-one text--slim"},"Add new draft"),n.a.createElement("span",{className:"icon fas btn-text-two"}))))),n.a.createElement("button",{className:"drafts__add-mobile",onClick:f},n.a.createElement("img",{src:"/icons/close.svg",alt:"Create new draft"}))):n.a.createElement("div",{className:"drafts__container animate--fade-in"},n.a.createElement("div",{className:"drafts placeholder"},n.a.createElement("div",{className:"placeholder__art"}),n.a.createElement("button",{onClick:f,className:"placeholder__button"},n.a.createElement("span",{className:"btn__inner"},n.a.createElement("span",{className:"icon fas btn-text-one text--slim"},"Create a draft"),n.a.createElement("span",{className:"icon fas btn-text-two"})))),n.a.createElement("button",{style:i.toggle?{opacity:0}:null,className:"drafts__add-mobile",onClick:f},n.a.createElement("img",{src:"/add.svg",alt:"Create new draft"}))):null},Z=a(10),G=a.n(Z),H=a(16),M=(a(40),function(e){return n.a.createElement("div",{className:e.goal>0?"progress-ring__container":"hidden"},n.a.createElement(H.a,{value:e.progress,text:e.count,initialAnimation:!0,strokeWidth:5,className:"progress-ring__circle-chart",styles:{path:{stroke:"".concat(e.progress>0&&e.progress<=33.333?"#8ffdfc":e.progress>33.333&&e.progress<=50?"#8fc1fc":e.progress>51&&e.progress<=66.6666?"#c363a5":e.progress>67&&e.progress<=80?"#c43f9a":e.progress>81&&e.progress<=100?"#db1c87":e.progress>=100?"#f04100":null)},text:{fill:"".concat(e.progress>0&&e.progress<=33.333?"#8ffdfc":e.progress>33.333&&e.progress<=50?"#8fc1fc":e.progress>51&&e.progress<=66.6666?"#c363a5":e.progress>67&&e.progress<=80?"#c43f9a":e.progress>81&&e.progress<=100?"#db1c87":e.progress>=100?"#f04100":null)}}}))});function V(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function $(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?V(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var q=function(){var e=Object(r.useState)(!0),t=Object(y.a)(e,2),a=t[0],o=t[1],c=Object(r.useState)(!1),l=Object(y.a)(c,2),s=l[0],i=l[1],m=Object(r.useState)(""),p=Object(y.a)(m,2),f=p[0],g=p[1],b=Object(r.useState)(""),v=Object(y.a)(b,2),_=v[0],E=v[1],O=Object(r.useState)("Copy"),h=Object(y.a)(O,2),j=h[0],w=h[1],N=Object(r.useState)(0),x=Object(y.a)(N,2),P=x[0],k=x[1],C=Object(r.useState)(0),S=Object(y.a)(C,2),A=S[0],L=S[1],T=u(),I=Object(y.a)(T,2),R=I[0],U=R.user,W=R.modify,B=R.drafts,z=R.animations,J=I[1],K=Object(r.useRef)(null),F=function(e){e.preventDefault();var t=B,a={text:f,timestamp:G()().unix()};t.push(a),J({type:"drafts",payload:t});try{D.a.database().ref("/users/".concat(U.uid)).child("drafts").update(t),K.current.value="",V("new_draft")}catch(e){i(!0),o(!0),console.error(e)}},Y=function(e){return L(Math.floor(e/280*100))},Z=function(e){e.preventDefault(),K.current.select(),document.execCommand("copy"),w(n.a.createElement("img",{className:"modify__button--tick",alt:"Text Copied",src:"/icons/check.svg"})),K.current.focus(),K.current.setSelectionRange(P,P),setTimeout((function(){w("Copy")}),1500)},H=function(e){e.preventDefault();var t=encodeURI(f),a="https://twitter.com/intent/tweet?text=".concat(t);window.open(a,"_blank"),K.current.focus(),K.current.setSelectionRange(P,P)},V=function(e){J({type:"animations",payload:$({},z,{overlay:"animate--fade-out"})}),setTimeout((function(){J({type:"modify",payload:$({},W,Object(d.a)({},e,!1))}),o(!0)}),200)},q=function(e){e&&(B[W.edit_draft[1]].text=_,J({type:"drafts",payload:B})),J({type:"animations",payload:$({},z,{overlay:"animate--fade-out"})}),o(!0),setTimeout((function(){J({type:"modify",payload:$({},W,{edit_draft:[!1,null]})})}),200)};if(Object(r.useEffect)((function(){k(0),Y(0),(W.new_draft||W.edit_draft[0])&&(document.addEventListener("keypress",(function(e){return function(e){e.shiftKey&&("Enter"===e.key&&console.log("hit"),W.new_draft&&F(e))}(e)})),K.current.focus(),K.current.setSelectionRange(P,P),W.edit_draft[0]&&(E(B[W.edit_draft[1]].text),g(B[W.edit_draft[1]].text),o(!1),k(B[W.edit_draft[1]].text.length),Y(B[W.edit_draft[1]].text.length)))}),[W.edit_draft,_,B,W.new_draft]),W.new_draft)return n.a.createElement("div",{className:"modify__container modify--open ".concat(z.overlay)},n.a.createElement("div",{className:"header--overlay"},n.a.createElement("div",{className:"header__avatar"},n.a.createElement("img",{alt:"Avatar",src:U.avatar})),n.a.createElement("button",{className:"overlay__cancel",onClick:function(){return V("new_draft")}},n.a.createElement("img",{src:"/close.svg",alt:"Close this page"}))),n.a.createElement("form",null,n.a.createElement("textarea",{type:"text",placeholder:"What's your idea?",className:"modify__input",maxLength:1e4,onChange:function(e){var t=e.target.value;g(t),k(t.length),Y(t.length),t.length>0?o(!1):o(!0)},ref:K,style:s?{border:"2px solid red"}:null}),n.a.createElement("p",{className:s?"modify__error":"hidden"},"Something's gone wrong. You may want to try refreshing the page."),n.a.createElement("div",{className:"modify__controls"},n.a.createElement("div",{className:"modify__char-count"},n.a.createElement(M,{goal:280,progress:A,count:P})),n.a.createElement("button",{className:"modify__button",onClick:Z,disabled:a||s},j),n.a.createElement("button",{className:"modify__button",onClick:H,disabled:a||s},"Tweet"),n.a.createElement("button",{className:"modify__button modify__button--save",onClick:F,disabled:a||s},"Save"))));if(W.edit_draft[0]){var Q=B[W.edit_draft[1]],X=G.a.unix(Q.timestamp).fromNow();return n.a.createElement("div",{className:"modify__container modify--open ".concat(z.overlay)},n.a.createElement("div",{className:"header--overlay"},n.a.createElement("div",{className:"header__avatar"},n.a.createElement("img",{alt:"Avatar",src:U.avatar})),n.a.createElement("button",{className:"overlay__cancel",onClick:function(){return q(!0)}},n.a.createElement("img",{src:"/close.svg",alt:"Close this page"}))),n.a.createElement("form",null,n.a.createElement("textarea",{type:"text",placeholder:"What's your idea?",className:"modify__input",maxLength:1e4,onChange:function(e){var t=e.target.value;g(t);var a=B;a[W.edit_draft[1]].text=t,a[W.edit_draft[1]].timestamp=G()().unix(),J({type:"drafts",payload:B})},value:B[W.edit_draft[1]].text,ref:K,style:s?{border:"2px solid red"}:null}),n.a.createElement("p",{className:s?"modify__error":"hidden"},"Something's gone wrong. You may want to try refreshing the page."),n.a.createElement("div",{className:"modify__controls-container"},n.a.createElement("div",{className:"modify__controls"},n.a.createElement(M,{goal:280,progress:A,count:P}),n.a.createElement("button",{className:"modify__button",onClick:Z,disabled:a||s},j),n.a.createElement("button",{className:"modify__button",onClick:H,disabled:a||s},"Tweet"),n.a.createElement("button",{className:"modify__button modify__button--save",onClick:function(e){e.preventDefault();try{D.a.database().ref("/users/".concat(U.uid)).child("drafts").update(B),q(!1)}catch(e){i(!0),o(!0),console.error(e)}},disabled:a||s},"Save")),n.a.createElement("div",{className:"modify__timestamp"},n.a.createElement("p",{className:"text text--tiny text--light text--slim"},n.a.createElement("em",null,"last modified ",X))))))}return null};function Q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function X(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Q(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Q(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ee=function(e){var t=u(),a=Object(y.a)(t,2),r=a[0],o=r.user,c=r.toggleLogout,l=r.animations,s=a[1],i=function(){s({type:"animations",payload:X({},l,{overlay:"animate--fade-out"})}),setTimeout((function(){s({type:"toggleLogout",payload:!1})}),200)},d=c?"logout__container ".concat(l.overlay):"hidden ".concat(l.overlay);return n.a.createElement("div",{className:d},n.a.createElement("div",{className:"header--overlay"},n.a.createElement("div",{className:"header__avatar"},n.a.createElement("img",{alt:"Avatar",src:o.avatar})),n.a.createElement("button",{className:"overlay__cancel",onClick:i},n.a.createElement("img",{src:"/close.svg",alt:"Close this page"}))),n.a.createElement("div",{className:"logout"},n.a.createElement("p",{className:"text text--medium text--slim"},"Are you sure?"),n.a.createElement("div",{className:"placeholder"},n.a.createElement("button",{onClick:function(){S.signOut().then((function(){s({type:"user",payload:X({},o,{isAuthenticated:!1})}),i()}))},className:"placeholder__button"},n.a.createElement("span",{className:"btn__inner"},n.a.createElement("span",{className:"icon fas btn-text-one text text--small text--slim"},"Log Out"),n.a.createElement("span",{className:"icon btn-text--logout"}))))),n.a.createElement(P,null))},te=function(){var e=u();return Object(y.a)(e,1)[0].user.isAuthenticated?n.a.createElement(n.a.Fragment,null,n.a.createElement(x,null),n.a.createElement(Y,null),n.a.createElement(q,null),n.a.createElement(h,null),n.a.createElement(ee,null)):null};a(41);var ae=function(){return n.a.createElement(i,{initialState:s,reducer:f},n.a.createElement(z.a,{className:"app"},n.a.createElement("main",{className:"app__wrapper"},n.a.createElement("div",{className:"app__inner"},n.a.createElement(g,null),n.a.createElement(I,null),n.a.createElement(te,null)),n.a.createElement(W,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(ae,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[17,1,2]]]);
//# sourceMappingURL=main.9832a19f.chunk.js.map