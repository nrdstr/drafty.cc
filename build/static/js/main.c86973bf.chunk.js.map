{"version":3,"sources":["state/index.js","reducers/index.js","components/loader/index.js","components/settings/Settings.js","components/controls/Controls.js","components/header/Header.js","components/footer/Footer.js","utils/firebase.js","components/login/Login.js","components/popover/Popover.js","components/drafts/Draft.js","components/drafts/Drafts.js","components/shared/progress-ring/ProgressRing.js","components/modify/Modify.js","components/logout/Logout.js","components/home/Home.js","App.js","serviceWorker.js","index.js"],"names":["StateContext","createContext","useStateValue","useContext","Loader","isLoading","animations","container","useRef","endLoad","loader_out","useEffect","ref","className","Settings","user","drafts","settings","popover","dispatch","toggleConfirmPopover","type","text","payload","toggle","button_text","overlay","alt","src","avatar","onClick","setTimeout","style","margin","username","length","Controls","modify","operator","Header","isAuthenticated","Footer","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","auth","GoogleAuthProvider","twitter","TwitterAuthProvider","FacebookAuthProvider","Login","loginWithTwitter","a","signInWithRedirect","then","result","userData","additionalUserInfo","profile","profile_image_url","replace","uid","currentUser","twitterID","id","name","catch","e","console","error","onAuthStateChanged","account","userInfo","photoURL","providerData","displayName","marginTop","Popover","props","useState","animation","setAnimation","confirmText","setConfirmText","handleLogOut","signOut","closePopover","handleDeleteAccount","log","database","child","remove","delete","index","d","splice","set","handleDeleteDraft","handleDeleteAllDrafts","Draft","draft","draft_delete","handleEditDraft","Drafts","editArr","edit_draft","toggleModify","new_draft","once","snapshot","data","val","JSON","parse","stringify","document","addEventListener","key","detectKeyDown","map","i","slice","renderDraft","paddingTop","paddingBottom","marginBottom","opacity","ProgressRing","goal","value","progress","count","initialAnimation","strokeWidth","styles","path","stroke","fill","Modify","disabled","setDisabled","setError","setText","original","setOriginal","copyStatus","setCopyStatus","charCount","setCharCount","charProgress","setCharProgress","inputRef","handleSubmitNewDraft","preventDefault","timestamp","moment","unix","push","update","current","handleProgressRing","Math","floor","handleCopyText","select","execCommand","focus","setSelectionRange","handleComposeNewTweet","encodedText","encodeURI","url","window","open","operation","closeEditModal","cancel","shiftKey","placeholder","maxLength","onChange","target","border","currDraft","fromNow","LogOut","toggleLogout","toggleModal","showLogout","Home","App","scroll","setScroll","Boolean","location","hostname","match","ReactDOM","render","reducer","initialState","children","Provider","useReducer","twit","buttonText","state","action","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.c86973bf.chunk.js","sourcesContent":["import React, { createContext, useContext, useReducer } from \"react\"\n\nexport const StateContext = createContext()\n\nexport const initialState = {\n  user: {\n    isAuthenticated: false,\n    uid: null,\n    username: null,\n    avatar: null,\n  },\n  drafts: [],\n  twit: {},\n  modify: {\n    new_draft: false,\n    edit_draft: [false, null]\n  },\n  animations: {\n    overlay: 'animate--fade-in',\n    loader_out: false,\n    draft_delete: ''\n  },\n  popover: {\n    toggle: false,\n    type: '',\n    index: null,\n    buttonText: ''\n  },\n  settings: {\n    toggle: false\n  },\n  toggleLogout: false,\n  isLoading: false\n}\n\nexport const StateProvider = ({ reducer, initialState, children }) => (\n  <StateContext.Provider value={useReducer(reducer, initialState)}>\n    {children}\n  </StateContext.Provider>\n)\n\nexport const useStateValue = () => useContext(StateContext)\n","export const rootReducer = (state, action) => {\n  switch (action.type) {\n    case \"user\":\n      return {\n        ...state,\n        user: action.payload\n      }\n    case \"drafts\":\n      return {\n        ...state,\n        drafts: action.payload\n      }\n    case \"twit\":\n      return {\n        ...state,\n        twit: action.payload\n      }\n    case \"animations\":\n      return {\n        ...state,\n        animations: action.payload\n      }\n    case \"toggleLoader\":\n      return {\n        ...state,\n        isLoading: action.payload\n      }\n    case \"settings\":\n      return {\n        ...state,\n        settings: action.payload\n      }\n    case \"popover\":\n      return {\n        ...state,\n        popover: action.payload\n      }\n    case \"toggleLogout\":\n      return {\n        ...state,\n        toggleLogout: action.payload\n      }\n    case \"modify\":\n      return {\n        ...state,\n        modify: action.payload\n      }\n    default:\n      return state\n  }\n}","import React, { useEffect, useRef } from \"react\"\nimport { useStateValue } from \"../../state\"\n\nconst Loader = () => {\n  const [{ isLoading, animations }] = useStateValue()\n  const container = useRef(null)\n\n  const endLoad = animations.loader_out\n\n  const handleLoaderAnimation = () => {\n    // overlay.current.style.opacity = 1\n  }\n\n  useEffect(() => {\n    if (animations.loader_out) {\n      handleLoaderAnimation()\n    }\n  }, [animations.loader_out])\n  if (isLoading) {\n    return (\n      <div ref={container} className=\"loader__container\">\n        <div className={`loader__body ${endLoad ? 'animate--fade-out' : ''}`}>\n          <span>\n            <span></span>\n            <span></span>\n            <span></span>\n            <span></span>\n          </span>\n          <div className={`loader__logo ${endLoad ? 'animate--fade-out' : ''}`} />\n        </div>\n        <div className={`longfazers ${endLoad ? 'animate--fade-out' : ''}`}>\n          <span></span>\n          <span></span>\n          <span></span>\n          <span></span>\n        </div>\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n\nexport default Loader\n","import React from 'react'\nimport { useStateValue } from '../../state'\n\nconst Settings = () => {\n    const [{ user, drafts, animations, settings, popover }, dispatch] = useStateValue()\n\n    const toggleSettings = () => {\n        dispatch({\n            type: 'animations',\n            payload: {\n                ...animations,\n                overlay: 'animate--fade-out'\n            }\n        })\n        setTimeout(() => {\n            dispatch({ type: 'settings', payload: { ...settings, toggle: false } })\n        }, 200)\n    }\n\n    const toggleConfirmPopover = (type, text) =>\n        dispatch({ type: 'popover', payload: { ...popover, toggle: true, type: type, button_text: text } })\n\n    if (settings.toggle) {\n        return (\n            <div className={`settings ${animations.overlay} ${popover.toggle ? 'blur' : ''}`}>\n                <div className=\"header--overlay\">\n                    <div className='header__avatar'>\n                        <img alt='Avatar' src={user.avatar} />\n                    </div>\n                    <button className='overlay__cancel' onClick={toggleSettings}>\n                        <img src='/close.svg' alt='Close Settings' />\n                    </button>\n                </div>\n                <h2 className='text text--large text--slim'>Settings</h2>\n                <p style={{ margin: 0 }} className='text text--medium text--slim text--light'>{user.username}</p>\n                <ul className='settings__list'>\n                    <li>\n                        <p className='text text--medium text--slim'>Drafts</p>\n                        <p className='settings__drafts text text--medium text--slim text--bold'>{drafts.length}</p>\n                    </li>\n                    <li>\n                        <p className='text text--medium text--slim'>Log out</p>\n                        <button onClick={() => toggleConfirmPopover('log_out', 'Logout')} className='popover__btn popover__btn--confirm'>\n                            Logout\n                        </button>\n                    </li>\n                    <li>\n                        <p className='text text--medium text--slim'>Delete all drafts</p>\n                        <button onClick={() => toggleConfirmPopover('draft_delete_all', 'Delete')} className='popover__btn'>\n                            Delete\n                        </button>\n                    </li>\n                    <li>\n                        <p className='text text--medium text--slim'>Delete my account</p>\n                        <button onClick={() => toggleConfirmPopover('account_delete', 'Delete')} className='popover__btn'>\n                            Delete\n                        </button>\n                    </li>\n                </ul>\n            </div>\n        )\n    } else {\n        return null\n    }\n}\n\nexport default Settings","import React from 'react'\nimport { useStateValue } from '../../state'\nimport Settings from '../settings/Settings'\n\nconst Controls = () => {\n    const [{ modify, animations }, dispatch] = useStateValue()\n\n    const toggleModify = operator => {\n        dispatch({\n            type: 'animations',\n            payload: {\n                ...animations,\n                overlay: 'animate--fade-in'\n            }\n        })\n        dispatch({ type: 'modify', payload: { ...modify, [operator]: true } })\n    }\n\n    const toggleSettings = () => {\n        dispatch({\n            type: 'animations',\n            payload: {\n                ...animations,\n                overlay: 'animate--fade-in'\n            }\n        })\n        dispatch({ type: 'settings', payload: { ...Settings, toggle: true } })\n    }\n\n    return (\n        <div className='controls'>\n            <button className='controls__button controls__button--add' onClick={() => toggleModify('new_draft')}>\n                <img src='/icons/close.svg' alt='Create new draft' />\n            </button>\n\n            <button className='controls__button controls__button--settings' onClick={() => toggleSettings()}>\n                <img src='/icons/settings.svg' alt='Settings' />\n            </button>\n        </div>\n    )\n}\n\nexport default Controls","import React from \"react\"\nimport { useStateValue } from \"../../state\"\nimport Controls from '../controls/Controls'\n\nconst Header = () => {\n  const [{ user, popover }] = useStateValue()\n\n  if (user.isAuthenticated) {\n    return (\n      <header className={`header ${popover.toggle ? 'blur' : ''}`}>\n        <div className='header__user'>\n          <div className='header__avatar'>\n            <img alt='Avatar' src={user.avatar} />\n          </div>\n        </div>\n        <div className='header__logo' />\n        <Controls />\n      </header>\n    )\n  } else {\n    return (\n      <header className=\"header header--login\">\n        <div className='header__logo header__logo--login' />\n        <h1 className='text text--large text--bold text--narrow' style={{ margin: \"0 0 3px 0\" }}>drafty</h1>\n      </header>\n    )\n  }\n}\n\nexport default Header\n","import React from \"react\"\n\nconst Footer = () => {\n  return (\n    <div className=\"text footer__container\">\n      <p>&copy; Drafty 2020</p>\n    </div>\n  )\n}\n\nexport default Footer\n","import firebase from 'firebase'\n\nconst config = {\n  apiKey: \"AIzaSyDogAtK4hVuw-_uiI4D5K0NWZc9j8gZUzU\",\n  authDomain: \"speek2-5f7d5.firebaseapp.com\",\n  databaseURL: \"https://speek2-5f7d5.firebaseio.com\",\n  projectId: \"speek2-5f7d5\",\n  storageBucket: \"speek2-5f7d5.appspot.com\",\n  messagingSenderId: \"797679846776\",\n  appId: \"1:797679846776:web:c92fd8300ccfa63746b48d\"\n}\n\nfirebase.initializeApp(config)\nexport const google = new firebase.auth.GoogleAuthProvider()\nexport const twitter = new firebase.auth.TwitterAuthProvider()\nexport const facebook = new firebase.auth.FacebookAuthProvider()\nexport const auth = firebase.auth()\nexport default firebase\n","import React, { useEffect } from \"react\"\nimport { useStateValue } from \"../../state\"\nimport Header from \"../header/Header\"\nimport Footer from \"../footer/Footer\"\nimport { twitter, auth } from \"../../utils/firebase\"\n\nconst Login = () => {\n  const [{ user, animations }, dispatch] = useStateValue()\n\n  const checkForPreviousLogin = () => {\n    auth.onAuthStateChanged(async account => {\n      try {\n        if (account) {\n          const userInfo = await account\n\n          let avatar = userInfo.photoURL\n          avatar = avatar.replace(\"_normal\", '')\n          dispatch({\n            type: \"user\",\n            payload: {\n              ...user,\n              isAuthenticated: true,\n              uid: auth.currentUser.uid,\n              twitterID: userInfo.providerData[0].uid,\n              username: userInfo.displayName,\n              avatar: avatar\n            }\n          })\n\n        }\n        setTimeout(() => {\n          dispatch({\n            type: 'animations',\n            payload: {\n              ...animations,\n              loader_out: true\n            }\n          })\n          setTimeout(() => {\n            dispatch({\n              type: 'toggleLoader',\n              payload: false\n            })\n          }, 200)\n        }, 1000)\n      } catch (e) {\n        console.error(\"Error fetching previous auth: \", e)\n      }\n    })\n  }\n\n  const loginWithTwitter = async () => {\n    auth.signInWithRedirect(twitter).then(async result => {\n      const userData = result.additionalUserInfo.profile\n\n      let avatar = userData.profile_image_url\n      avatar = avatar.replace(\"_normal\", '')\n\n      dispatch({\n        type: 'user',\n        payload: {\n          ...user,\n          isAuthenticated: true,\n          uid: auth.currentUser.uid,\n          twitterID: userData.id,\n          username: userData.name,\n          avatar: avatar\n        }\n      })\n\n      setTimeout(() => {\n        dispatch({\n          type: 'animations',\n          payload: {\n            ...animations,\n            loader_out: true\n          }\n        })\n        setTimeout(() => {\n          dispatch({\n            type: 'toggleLoader',\n            payload: false\n          })\n        }, 200)\n      }, 1000)\n\n    }).catch(e => console.error(e))\n  }\n\n\n  useEffect(() => {\n    dispatch({\n      type: \"toggleLoader\",\n      payload: true\n    })\n\n    checkForPreviousLogin()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  if (!user.isAuthenticated) {\n    return (\n      <div className=\"login__container\">\n        <Header />\n        <div className=\"login__links\">\n          <img alt='Home page art' src='/writer-beard.svg' />\n\n          <div style={{ marginTop: 30 }} className='placeholder'>\n            {/* <div className='placeholder__landing-art' /> */}\n            <button onClick={loginWithTwitter} className='placeholder__button placeholder__button--landing'>\n              <span className='btn__inner'>\n                <span className='icon fas btn-text-one text text--small text--slim'>Login with Twitter</span>\n                <span className='btn-text--twitter' />\n              </span>\n            </button>\n          </div>\n        </div>\n        <Footer />\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n\nexport default Login\n","import React, { useState, useEffect } from 'react'\nimport { useStateValue } from '../../state'\nimport firebase, { auth } from \"../../utils/firebase\"\n\nconst Popover = props => {\n    const [{ popover, drafts, user, animations }, dispatch] = useStateValue()\n    const [animation, setAnimation] = useState('animate--fade-in')\n    const [confirmText, setConfirmText] = useState('')\n\n    const handleLogOut = () => {\n        auth.signOut()\n            .then(() => {\n                const u = {}\n                dispatch({\n                    type: 'user',\n                    payload: {\n                        ...u,\n                        isAuthenticated: false\n                    }\n                })\n\n                dispatch({\n                    type: 'drafts',\n                    payload: []\n                })\n                closePopover()\n            })\n    }\n\n    const handleDeleteDraft = () => {\n        let d = drafts\n        d.splice(popover.index, 1)\n        dispatch({\n            type: 'drafts',\n            payload: d\n        })\n\n        try {\n            firebase\n                .database()\n                .ref(`/users/${user.uid}`)\n                .child(\"drafts\")\n                .set(d)\n\n            closePopover()\n        } catch (e) {\n            console.error(e)\n        }\n    }\n\n    const handleDeleteAllDrafts = () => {\n\n        dispatch({\n            type: 'drafts',\n            payload: []\n        })\n\n        try {\n            firebase\n                .database()\n                .ref(`/users/${user.uid}`)\n                .child(\"drafts\")\n                .set([])\n\n            closePopover()\n        } catch (e) {\n            console.error(e)\n        }\n    }\n\n    const handleDeleteAccount = async () => {\n        const user = firebase.auth().currentUser\n        console.log(`deleting ${user.uid}`)\n\n        try {\n            firebase\n                .database()\n                .ref(`/users`)\n                .child(user.uid)\n                .remove()\n            await user.delete()\n            handleLogOut()\n        } catch (e) {\n            console.error(e)\n        }\n    }\n\n    const closePopover = () => {\n        setAnimation('animate--fade-out')\n        dispatch({\n            type: 'popover',\n            payload: {\n                toggle: false,\n                index: null\n            }\n        })\n        setTimeout(() => {\n            setAnimation('animate--fade-in')\n        }, 200)\n    }\n\n    const confirmButtonFunction = () => {\n        const { type, index } = popover\n        if (type === 'draft_delete') {\n            return handleDeleteDraft(index)\n        }\n        if (type === 'draft_delete_all') {\n            return handleDeleteAllDrafts()\n        }\n        if (type === 'account_delete') {\n            return handleDeleteAccount()\n        }\n\n        if (type === 'log_out') {\n            return handleLogOut()\n        }\n\n    }\n\n    useEffect(() => {\n        if (popover.toggle) {\n            const { type } = popover\n            if (type === 'draft_delete') setConfirmText('delete this draft')\n            if (type === 'log_out') setConfirmText('log out')\n            if (type === 'draft_delete_all') setConfirmText('delete your drafts')\n            if (type === 'account_delete') setConfirmText('delete your account')\n        }\n    }, [popover.toggle])\n\n    if (popover.toggle) {\n        return (\n            <div className={`popover ${animation}`}>\n                <div className='popover__inner'>\n                    <p className='text text--medium text--bold text--center'>Are you sure you want to {confirmText}?</p>\n                    <div className='popover__row'>\n                        <button onClick={closePopover} className='popover__btn popover__btn--confirm'>Cancel</button>\n                        <button onClick={confirmButtonFunction} className='popover__btn'>\n                            {popover.button_text}\n                        </button>\n                    </div>\n                </div>\n            </div>\n        )\n    } else {\n        return null\n    }\n}\n\nexport default Popover","import React from 'react'\nimport { useStateValue } from '../../state'\n\nconst Draft = props => {\n    const [{ animations }] = useStateValue()\n    const draft = props.draft\n    return (\n        <div className={`draft ${animations.draft_delete}`}>\n            <div onClick={() => props.handleEditDraft(props.index)} className='draft__clickable-wrapper'>\n                <p className='draft__text'>\n                    {draft.text}\n                </p>\n            </div>\n            <button className='draft__delete' onClick={() => props.handleDeleteDraft(props.index)}>\n                <img src='/icons/trash.svg' alt='Delete this draft' />\n            </button>\n        </div>\n    )\n}\n\nexport default Draft","import React, { useEffect } from \"react\"\nimport { useStateValue } from \"../../state\"\nimport firebase from \"../../utils/firebase\"\nimport Draft from './Draft'\n\nconst Drafts = () => {\n  const [\n    {\n      user,\n      modify,\n      drafts,\n      animations,\n      popover\n    },\n    dispatch] = useStateValue()\n\n  const getExistingUserData = () => {\n    dispatch({\n      type: 'toggleLoader',\n      payload: true\n    })\n    firebase.database()\n      .ref('/users/' + user.uid)\n      .once('value')\n      .then(snapshot => {\n        try {\n          const data = snapshot.val()\n          if (data) {\n            if (data.drafts && data.drafts.length > 0) {\n              dispatch({\n                type: 'drafts',\n                payload: data.drafts\n              })\n            }\n            dispatch({\n              type: 'toggleLoader',\n              payload: false\n            })\n          } else {\n            console.log(user)\n            const userData = {\n              twitterID: user.twitterID,\n              uid: user.uid\n            }\n            firebase.database()\n              .ref(`/users/${user.uid}/`)\n              .set(JSON.parse(JSON.stringify(userData)))\n          }\n        }\n        catch (e) {\n          console.error(e)\n        }\n      })\n  }\n\n  const handleEditDraft = index => {\n    const editArr = [true, index]\n    dispatch({\n      type: 'animations',\n      payload: {\n        ...animations,\n        overlay: 'animate--fade-in'\n      }\n    })\n    dispatch({\n      type: 'modify',\n      payload: {\n        ...modify,\n        edit_draft: editArr\n      }\n    })\n  }\n\n  const handleDeleteDraft = index => {\n    dispatch({\n      type: 'modify',\n      payload: {\n        ...modify,\n        edit_draft: [false, index]\n      }\n    })\n    dispatch({\n      type: 'popover',\n      payload: {\n        toggle: true,\n        type: 'draft_delete',\n        index: index,\n        button_text: 'Delete'\n      }\n    })\n\n  }\n\n  const toggleModify = () => {\n    dispatch({ type: 'modify', payload: { ...modify, new_draft: true } })\n    dispatch({\n      type: 'animations',\n      payload: {\n        ...animations,\n        overlay: 'animate--fade-in'\n      }\n    })\n  }\n\n  const detectKeyDown = e => {\n    if (e.key === '=') {\n      setTimeout(() => {\n        toggleModify()\n      }, 100)\n    }\n  }\n\n  useEffect(() => {\n    getExistingUserData()\n    document.addEventListener('keypress', e => detectKeyDown(e))\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const renderDraft = (draft, i) =>\n    <Draft key={draft.text.slice(0, 10)}\n      draft={draft}\n      index={i}\n      handleEditDraft={handleEditDraft}\n      handleDeleteDraft={handleDeleteDraft} />\n\n  if (user.isAuthenticated) {\n    if (drafts && drafts.length) {\n      return (\n        <div className={`drafts__container animate--fade-in ${popover.toggle ? 'blur' : ''}`}>\n          <div className='drafts animate--fade-in'>\n            {drafts.map((draft, i) => renderDraft(draft, i))}\n            <div style={{ paddingTop: 10, paddingBottom: 10 }} className='placeholder'>\n              <button style={{ marginTop: 20, marginBottom: 20 }} onClick={toggleModify} className='placeholder__button'>\n                <span className='btn__inner'>\n                  <span className='icon fas btn-text-one text--slim'>Add new draft</span>\n                  <span className='icon fas btn-text-two' />\n                </span>\n              </button>\n            </div>\n\n          </div>\n          <button className='drafts__add-mobile' onClick={toggleModify}>\n            <img src='/icons/close.svg' alt='Create new draft' />\n          </button>\n        </div>\n      )\n    } else {\n      return (\n        <div className='drafts__container animate--fade-in'>\n          <div className='drafts placeholder'>\n            <div className='placeholder__art' />\n\n            <button onClick={toggleModify} className='placeholder__button'>\n              <span className='btn__inner'>\n                <span className='icon fas btn-text-one text--slim'>Create a draft</span>\n                <span className='icon fas btn-text-two' />\n              </span>\n            </button>\n\n          </div>\n          <button style={popover.toggle ? { opacity: 0 } : null} className='drafts__add-mobile' onClick={toggleModify}>\n            <img src='/add.svg' alt='Create new draft' />\n          </button>\n        </div>\n      )\n    }\n  } else {\n    return null\n  }\n}\n\nexport default Drafts\n","import React from 'react'\nimport { CircularProgressbar, buildStyle } from 'react-circular-progressbar'\nimport 'react-circular-progressbar/dist/styles.css'\n\nconst ProgressRing = props => {\n  return (\n    <div className={props.goal > 0 ? 'progress-ring__container' : 'hidden'}>\n      <CircularProgressbar\n        value={props.progress}\n        text={props.count}\n        initialAnimation={true}\n        strokeWidth={5}\n        className='progress-ring__circle-chart'\n        styles={{\n          path: {\n            stroke: `${props.progress > 0 && props.progress <= 33.333\n              ? '#8ffdfc'\n              : props.progress > 33.333 && props.progress <= 50\n                ? '#8fc1fc'\n                : props.progress > 51 && props.progress <= 66.6666\n                  ? '#c363a5'\n                  : props.progress > 67 && props.progress <= 80\n                    ? '#c43f9a'\n                    : props.progress > 81 && props.progress <= 100\n                      ? '#db1c87'\n                      : props.progress >= 100\n                        ? '#f04100'\n                        : null}`\n          },\n          text: {\n            fill: `${props.progress > 0 && props.progress <= 33.333\n              ? '#8ffdfc'\n              : props.progress > 33.333 && props.progress <= 50\n                ? '#8fc1fc'\n                : props.progress > 51 && props.progress <= 66.6666\n                  ? '#c363a5'\n                  : props.progress > 67 && props.progress <= 80\n                    ? '#c43f9a'\n                    : props.progress > 81 && props.progress <= 100\n                      ? '#db1c87'\n                      : props.progress >= 100\n                        ? '#f04100'\n                        : null}`\n          }\n        }}\n      />\n    </div>\n  )\n}\n\nexport default ProgressRing\n","import React, { useState, useRef, useEffect } from \"react\"\nimport { useStateValue } from \"../../state\"\nimport firebase from \"firebase\"\nimport moment from 'moment'\nimport ProgressRing from '../shared/progress-ring/ProgressRing'\n\nconst Modify = () => {\n  const [disabled, setDisabled] = useState(true),\n    [error, setError] = useState(false),\n    [text, setText] = useState(''),\n    [original, setOriginal] = useState(''),\n    [copyStatus, setCopyStatus] = useState('Copy'),\n    [charCount, setCharCount] = useState(0),\n    [charProgress, setCharProgress] = useState(0),\n    [{ user, modify, drafts, animations }, dispatch] = useStateValue(),\n    inputRef = useRef(null)\n\n  const handleSubmitNewDraft = e => {\n    e.preventDefault()\n    const d = drafts\n    const data = {\n      text: text,\n      timestamp: moment().unix()\n    }\n    d.push(data)\n    dispatch({\n      type: 'drafts',\n      payload: d\n    })\n\n    try {\n      firebase\n        .database()\n        .ref(`/users/${user.uid}`)\n        .child(\"drafts\")\n        .update(d)\n\n      inputRef.current.value = ''\n      toggleModify(\"new_draft\")\n    } catch (e) {\n      setError(true)\n      setDisabled(true)\n      console.error(e)\n    }\n  }\n\n  const handleSubmitEditDraft = e => {\n    e.preventDefault()\n\n    try {\n      firebase\n        .database()\n        .ref(`/users/${user.uid}`)\n        .child(\"drafts\")\n        .update(drafts)\n\n      closeEditModal(false)\n    } catch (e) {\n      setError(true)\n      setDisabled(true)\n      console.error(e)\n    }\n  }\n\n  const handleTextInput = e => {\n    const text = e.target.value\n    setText(text)\n    setCharCount(text.length)\n    handleProgressRing(text.length)\n    if (text.length > 0) {\n      setDisabled(false)\n    } else {\n      setDisabled(true)\n    }\n  }\n\n  const handleProgressRing = count =>\n    setCharProgress(Math.floor((count / 280) * 100))\n\n  const handleCopyText = e => {\n    e.preventDefault()\n    inputRef.current.select()\n    document.execCommand('copy')\n    setCopyStatus(<img className='modify__button--tick' alt='Text Copied' src=\"/icons/check.svg\" />)\n    inputRef.current.focus()\n    inputRef.current.setSelectionRange(charCount, charCount)\n\n    setTimeout(() => {\n      setCopyStatus('Copy')\n    }, 1500)\n  }\n\n  const handleComposeNewTweet = e => {\n    e.preventDefault()\n    const encodedText = encodeURI(text)\n    const url = `https://twitter.com/intent/tweet?text=${encodedText}`\n    window.open(url, '_blank')\n    inputRef.current.focus()\n    inputRef.current.setSelectionRange(charCount, charCount)\n  }\n\n  const handleEditDraftInput = e => {\n    const text = e.target.value\n    setText(text)\n    let d = drafts\n    d[modify.edit_draft[1]].text = text\n    d[modify.edit_draft[1]].timestamp = moment().unix()\n    dispatch({\n      type: 'drafts',\n      payload: drafts\n    })\n  }\n\n  const toggleModify = operation => {\n    dispatch({\n      type: 'animations',\n      payload: {\n        ...animations,\n        overlay: 'animate--fade-out'\n      }\n    })\n    setTimeout(() => {\n      dispatch({ type: \"modify\", payload: { ...modify, [operation]: false } })\n      setDisabled(true)\n    }, 200)\n  }\n\n  const closeEditModal = cancel => {\n    let d = drafts\n    if (cancel) {\n      d[modify.edit_draft[1]].text = original\n      dispatch({\n        type: 'drafts',\n        payload: drafts\n      })\n    }\n    dispatch({\n      type: 'animations',\n      payload: {\n        ...animations,\n        overlay: 'animate--fade-out'\n      }\n    })\n    setDisabled(true)\n    setTimeout(() => {\n      dispatch({ type: 'modify', payload: { ...modify, edit_draft: [false, null] } })\n    }, 200)\n  }\n\n  const detectKeyDown = e => {\n    if (e.shiftKey) {\n      if (e.key === 'Enter')\n        console.log('hit')\n      if (modify.new_draft) {\n        handleSubmitNewDraft(e)\n      }\n\n    }\n  }\n\n  useEffect(() => {\n    setCharCount(0)\n    handleProgressRing(0)\n    if (modify.new_draft || modify.edit_draft[0]) {\n      document.addEventListener('keypress', e => detectKeyDown(e))\n      inputRef.current.focus()\n      inputRef.current.setSelectionRange(charCount, charCount)\n      if (modify.edit_draft[0]) {\n        setOriginal(drafts[modify.edit_draft[1]].text)\n        setText(drafts[modify.edit_draft[1]].text)\n        setDisabled(false)\n        setCharCount(drafts[modify.edit_draft[1]].text.length)\n        handleProgressRing(drafts[modify.edit_draft[1]].text.length)\n      }\n    }\n  }, [modify.edit_draft, original, drafts, modify.new_draft])\n\n  if (modify.new_draft) {\n    return (\n      <div className={`modify__container modify--open ${animations.overlay}`}>\n        <div className=\"header--overlay\">\n          <div className='header__avatar'>\n            <img alt='Avatar' src={user.avatar} />\n          </div>\n          <button className='overlay__cancel' onClick={() => toggleModify('new_draft')}>\n            <img src='/close.svg' alt='Close this page' />\n          </button>\n        </div>\n        <form>\n          <textarea\n            type=\"text\"\n            placeholder=\"What's your idea?\"\n            className=\"modify__input\"\n            maxLength={10000}\n            onChange={handleTextInput}\n            ref={inputRef}\n            style={error ? { border: \"2px solid red\" } : null}\n          />\n          <p className={error ? \"modify__error\" : \"hidden\"}>\n            Something's gone wrong. You may want to try refreshing the page.\n          </p>\n          <div className='modify__controls'>\n            <div className='modify__char-count'>\n              <ProgressRing goal={280} progress={charProgress} count={charCount} />\n            </div>\n            <button\n              className=\"modify__button\"\n              onClick={handleCopyText}\n              disabled={disabled || error}\n            >\n              {copyStatus}\n            </button>\n            <button\n              className=\"modify__button\"\n              onClick={handleComposeNewTweet}\n              disabled={disabled || error}\n            >\n              Tweet\n            </button>\n            <button\n              className=\"modify__button modify__button--save\"\n              onClick={handleSubmitNewDraft}\n              disabled={disabled || error}\n            >\n              Save\n            </button>\n          </div>\n        </form>\n      </div>\n    )\n  } else if (modify.edit_draft[0]) {\n    const currDraft = drafts[modify.edit_draft[1]]\n    const timestamp = moment.unix(currDraft.timestamp).fromNow()\n    return (\n      <div className={`modify__container modify--open ${animations.overlay}`}>\n        <div className=\"header--overlay\">\n          <div className='header__avatar'>\n            <img alt='Avatar' src={user.avatar} />\n          </div>\n          <button className='overlay__cancel' onClick={() => closeEditModal(true)}>\n            <img src='/close.svg' alt='Close this page' />\n          </button>\n        </div>\n        <form>\n          <textarea\n            type=\"text\"\n            placeholder=\"What's your idea?\"\n            className=\"modify__input\"\n            maxLength={10000}\n            onChange={handleEditDraftInput}\n            value={drafts[modify.edit_draft[1]].text}\n            ref={inputRef}\n            style={error ? { border: \"2px solid red\" } : null}\n          />\n          <p className={error ? \"modify__error\" : \"hidden\"}>\n            Something's gone wrong. You may want to try refreshing the page.\n          </p>\n          <div className='modify__controls-container'>\n            <div className='modify__controls'>\n\n              <ProgressRing goal={280} progress={charProgress} count={charCount} />\n              <button\n                className=\"modify__button\"\n                onClick={handleCopyText}\n                disabled={disabled || error}\n              >\n                {copyStatus}\n              </button>\n              <button\n                className=\"modify__button\"\n                onClick={handleComposeNewTweet}\n                disabled={disabled || error}\n              >\n                Tweet\n</button>\n              <button\n                className=\"modify__button modify__button--save\"\n                onClick={handleSubmitEditDraft}\n                disabled={disabled || error}\n              >\n                Save\n</button>\n            </div>\n            <div className='modify__timestamp'>\n              <p className='text text--tiny text--light text--slim'>\n                <em>last modified {timestamp}</em>\n              </p>\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n\nexport default Modify\n","import React from 'react'\nimport Footer from '../footer/Footer'\nimport { useStateValue } from '../../state'\nimport { auth } from '../../utils/firebase'\n\nconst LogOut = props => {\n  const [{ user, toggleLogout, animations }, dispatch] = useStateValue()\n\n  const toggleModal = () => {\n    dispatch({\n      type: 'animations',\n      payload: {\n        ...animations,\n        overlay: 'animate--fade-out'\n      }\n    })\n    setTimeout(() => {\n      dispatch({ type: 'toggleLogout', payload: false })\n    }, 200)\n  }\n\n  const handleLogOut = () => {\n    auth.signOut()\n      .then(() => {\n        dispatch({\n          type: 'user',\n          payload: {\n            ...user,\n            isAuthenticated: false\n          }\n        })\n        toggleModal()\n      })\n  }\n\n  const showLogout = toggleLogout ? `logout__container ${animations.overlay}` : `hidden ${animations.overlay}`\n  return (\n    <div className={showLogout}>\n      <div className='header--overlay'>\n        <div className='header__avatar'>\n          <img alt='Avatar' src={user.avatar} />\n        </div>\n        <button className='overlay__cancel' onClick={toggleModal}>\n          <img src='/close.svg' alt='Close this page' />\n        </button>\n      </div>\n      <div className='logout'>\n        <p className='text text--medium text--slim'>Are you sure?</p>\n        <div className='placeholder'>\n          <button onClick={handleLogOut} className='placeholder__button'>\n            <span className='btn__inner'>\n              <span className='icon fas btn-text-one text text--small text--slim'>Log Out</span>\n              <span className='icon btn-text--logout' />\n            </span>\n          </button>\n        </div>\n      </div>\n      <Footer />\n    </div>\n  )\n}\n\nexport default LogOut\n","import React from 'react'\nimport { useStateValue } from '../../state'\nimport Header from '../header/Header'\nimport Drafts from '../drafts/Drafts'\nimport Modify from '../modify/Modify'\nimport Settings from '../settings/Settings'\nimport LogOut from '../logout/Logout'\n\nconst Home = () => {\n    const [{ user }] = useStateValue()\n\n    if (user.isAuthenticated) {\n        return (\n            <>\n                <Header />\n                <Drafts />\n                <Modify />\n                <Settings />\n                <LogOut />\n            </>\n        )\n    } else {\n        return null\n    }\n}\n\nexport default Home\n\n\n//   detectKeyDown = e => {\n//     switch( e.key ) {\n//       case ']':\n//         this.toggleAddCalories()\n//         break\n//       case '[':\n//         this.toggleSubtractCalories()\n//         break\n//       case 'Escape':\n//         this.setState({\n//           toggle_add: false,\n//           toggle_subtract: false,\n//           toggle_logout: false,\n//           toggle_change_goal: false\n//         })\n//         break\n//       case 'g':\n//         this.toggleChangeGoal()\n//         break\n//       default:\n//         break\n//     }\n//   }","import React, { useState, useEffect } from \"react\"\nimport Loader from \"./components/loader\"\nimport Login from \"./components/login/Login\"\nimport { useStateValue } from './state'\nimport Popover from './components/popover/Popover'\nimport Home from \"./components/home/Home\"\nimport \"./App.scss\"\n\nfunction App() {\n  const [{ popover, modify, settings }] = useStateValue()\n  const [scroll, setScroll] = useState('')\n\n  useEffect(() => {\n    if (popover.toggle || modify.new_draft || modify.edit_draft[0] || settings.toggle) {\n      setScroll('no-scroll')\n    } else {\n      setScroll('')\n    }\n  }, [popover.toggle || modify.new_draft || modify.edit_draft[0] || settings.toggle])\n\n  return (\n    <div className='app'>\n      <main className={`app__wrapper ${scroll}`}>\n        <div className='app__inner'>\n          <Loader />\n          <Login />\n          <Home />\n        </div>\n        <Popover />\n      </main>\n    </div>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport { StateProvider, initialState } from \"./state\"\nimport { rootReducer } from \"./reducers\"\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(<StateProvider initialState={initialState} reducer={rootReducer}><App /></StateProvider>, document.getElementById('root'))\nserviceWorker.unregister()\n"],"sourceRoot":""}