{"version":3,"sources":["state/index.js","components/loader/index.js","components/settings/Settings.js","components/controls/Controls.js","components/header/Header.js","components/footer/Footer.js","utils/firebase.js","components/login/Login.js","components/popover/Popover.js","components/drafts/Draft.js","components/drafts/Drafts.js","components/shared/progress-ring/ProgressRing.js","components/modify/Modify.js","components/logout/Logout.js","components/home/Home.js","App.js","serviceWorker.js","index.js","reducers/index.js"],"names":["StateContext","createContext","useStateValue","useContext","Loader","isLoading","animations","container","useRef","endLoad","loader_out","useEffect","window","scrollTo","ref","className","Settings","user","drafts","settings","popover","dispatch","toggleSettings","type","payload","overlay","setTimeout","toggle","toggleConfirmPopover","text","button_text","alt","src","avatar","onClick","style","margin","username","length","marginRight","Controls","modify","toggleModify","operator","Header","isAuthenticated","Footer","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","auth","GoogleAuthProvider","twitter","TwitterAuthProvider","FacebookAuthProvider","Login","checkForPreviousLogin","onAuthStateChanged","a","account","userInfo","photoURL","replace","uid","currentUser","twitterID","providerData","displayName","console","error","loginWithTwitter","signInWithPopup","then","result","userData","additionalUserInfo","profile","profile_image_url_https","id","name","localStorage","setItem","database","child","set","catch","e","marginTop","Popover","props","useState","animation","setAnimation","confirmText","setConfirmText","handleLogOut","signOut","closePopover","handleDeleteAccount","log","remove","delete","index","confirmButtonFunction","d","splice","handleDeleteDraft","handleDeleteAllDrafts","body","document","querySelector","overflow","Draft","draft","draft_delete","handleEditDraft","Drafts","show_drafts","editArr","edit_draft","new_draft","once","snapshot","data","val","JSON","parse","stringify","addEventListener","key","detectKeyDown","map","i","slice","renderDraft","paddingTop","paddingBottom","marginBottom","opacity","ProgressRing","goal","value","progress","count","initialAnimation","strokeWidth","styles","path","stroke","fill","Modify","disabled","setDisabled","setError","setText","original","setOriginal","copyStatus","setCopyStatus","charCount","setCharCount","charProgress","setCharProgress","inputRef","handleSubmitNewDraft","preventDefault","timestamp","moment","unix","unshift","update","current","handleSubmitEditDraft","closeEditModal","handleTextInput","target","handleProgressRing","Math","floor","handleCopyText","select","execCommand","focus","setSelectionRange","handleComposeNewTweet","encodedText","encodeURI","url","open","handleEditDraftInput","operation","cancel","innerWidth","placeholder","maxLength","onChange","border","currDraft","fromNow","LogOut","toggleLogout","toggleModal","showLogout","Home","App","scroll","setScroll","local","getItem","height","Boolean","location","hostname","match","ReactDOM","render","reducer","initialState","children","Provider","useReducer","twit","buttonText","state","action","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.c0145511.chunk.js","sourcesContent":["import React, { createContext, useContext, useReducer } from \"react\"\n\nexport const StateContext = createContext()\n\nexport const initialState = {\n  user: {\n    isAuthenticated: false,\n    uid: null,\n    username: null,\n    avatar: null,\n  },\n  show_drafts: true,\n  drafts: [],\n  twit: {},\n  modify: {\n    new_draft: false,\n    edit_draft: [false, null]\n  },\n  animations: {\n    overlay: 'animate--fade-in',\n    loader_out: false,\n    draft_delete: ''\n  },\n  popover: {\n    toggle: false,\n    type: '',\n    index: null,\n    buttonText: ''\n  },\n  settings: {\n    toggle: false\n  },\n  toggleLogout: false,\n  isLoading: true\n}\n\nexport const StateProvider = ({ reducer, initialState, children }) => (\n  <StateContext.Provider value={useReducer(reducer, initialState)}>\n    {children}\n  </StateContext.Provider>\n)\n\nexport const useStateValue = () => useContext(StateContext)\n","import React, { useEffect, useRef } from \"react\"\nimport { useStateValue } from \"../../state\"\nimport Div100vh from 'react-div-100vh'\n\nconst Loader = () => {\n  const [{ isLoading, animations }] = useStateValue()\n  const container = useRef(null)\n\n  const endLoad = animations.loader_out\n\n  const handleLoaderAnimation = () => {\n    // overlay.current.style.opacity = 1\n  }\n\n  useEffect(() => {\n    window.scrollTo(0, 0)\n    if (animations.loader_out) {\n      handleLoaderAnimation()\n    }\n  }, [animations.loader_out])\n  if (isLoading) {\n    return (\n      <Div100vh ref={container} className=\"loader__container\">\n        <div className={`loader__body ${endLoad ? 'animate--fade-out' : ''}`}>\n          <span>\n            <span></span>\n            <span></span>\n            <span></span>\n            <span></span>\n          </span>\n          <div className={`loader__logo ${endLoad ? 'animate--fade-out' : ''}`} />\n        </div>\n        <div className={`longfazers ${endLoad ? 'animate--fade-out' : ''}`}>\n          <span></span>\n          <span></span>\n          <span></span>\n          <span></span>\n        </div>\n      </Div100vh>\n    )\n  } else {\n    return null\n  }\n}\n\nexport default Loader\n","import React from 'react'\nimport { useStateValue } from '../../state'\nimport Div100vh from 'react-div-100vh'\n\nconst Settings = () => {\n    const [{ user, drafts, animations, settings, popover }, dispatch] = useStateValue()\n\n    const toggleSettings = () => {\n        dispatch({ type: 'show_drafts', payload: true })\n        dispatch({\n            type: 'animations',\n            payload: {\n                ...animations,\n                overlay: 'animate--fade-out'\n            }\n        })\n        setTimeout(() => {\n            dispatch({ type: 'settings', payload: { ...settings, toggle: false } })\n        }, 200)\n    }\n\n    const toggleConfirmPopover = (type, text) =>\n        dispatch({ type: 'popover', payload: { ...popover, toggle: true, type: type, button_text: text } })\n\n    if (settings.toggle) {\n        return (\n            <Div100vh className={`settings ${animations.overlay} ${popover.toggle ? 'blur' : ''}`}>\n                <div className=\"header--overlay\">\n                    <div className='header__avatar'>\n                        <img alt='Avatar' src={user.avatar} />\n                    </div>\n                    <button className='overlay__cancel' onClick={toggleSettings}>\n                        <img src='/close.svg' alt='Close Settings' />\n                    </button>\n                </div>\n                {/* <h2 className='text text--large text--slim'>Settings</h2> */}\n                <p style={{ margin: 0 }} className='text text--medium text--slim text--light'>{user.username}</p>\n                <ul className='settings__list'>\n                    <li>\n                        <p className='text text--medium text--slim'>Drafts</p>\n                        <p className='settings__drafts text text--medium text--slim text--bold'>{drafts.length}</p>\n                    </li>\n                    <li>\n                        <p className='text text--medium text--slim'>Log out</p>\n                        <button onClick={() => toggleConfirmPopover('log_out', 'Logout')} className='popover__btn popover__btn--confirm'>\n                            Logout\n                        </button>\n                    </li>\n                    <li>\n                        <p className='text text--medium text--slim'>Delete all drafts</p>\n                        <button onClick={() => toggleConfirmPopover('draft_delete_all', 'Delete')} className='popover__btn'>\n                            Delete\n                        </button>\n                    </li>\n                    <li>\n                        <p className='text text--medium text--slim'>Delete my account</p>\n                        <button style={{ marginRight: 16 }} onClick={() => toggleConfirmPopover('account_delete', 'Delete')} className='text text--medium text--red'>\n                            Delete\n                        </button>\n                    </li>\n                </ul>\n            </Div100vh>\n        )\n    } else {\n        return null\n    }\n}\n\nexport default Settings","import React from 'react'\nimport { useStateValue } from '../../state'\nimport Settings from '../settings/Settings'\n\nconst Controls = () => {\n    const [{ modify, animations }, dispatch] = useStateValue()\n\n    const toggleModify = operator => {\n        dispatch({\n            type: 'animations',\n            payload: {\n                ...animations,\n                overlay: 'animate--fade-in'\n            }\n        })\n        dispatch({ type: 'modify', payload: { ...modify, [operator]: true } })\n        dispatch({ type: 'show_drafts', payload: false })\n    }\n\n    const toggleSettings = () => {\n        dispatch({\n            type: 'animations',\n            payload: {\n                ...animations,\n                overlay: 'animate--fade-in'\n            }\n        })\n        dispatch({ type: 'settings', payload: { ...Settings, toggle: true } })\n        dispatch({ type: 'show_drafts', payload: false })\n    }\n\n    return (\n        <div className='controls'>\n            <button className='controls__button controls__button--add' onClick={() => toggleModify('new_draft')}>\n                <img src='/icons/close.svg' alt='Create new draft' />\n            </button>\n\n            <button className='controls__button controls__button--settings' onClick={() => toggleSettings()}>\n                <img src='/icons/settings.svg' alt='Settings' />\n            </button>\n        </div>\n    )\n}\n\nexport default Controls","import React from \"react\"\nimport { useStateValue } from \"../../state\"\nimport Controls from '../controls/Controls'\n\nconst Header = () => {\n  const [{ user, popover }] = useStateValue()\n\n  if (user.isAuthenticated) {\n    return (\n      <header className={`header ${popover.toggle ? 'blur' : ''}`}>\n        <div className='header__user'>\n          <div className='header__avatar'>\n            <img alt='Avatar' src={user.avatar} />\n          </div>\n        </div>\n        <div className='header__logo' />\n        <Controls />\n      </header>\n    )\n  } else {\n    return (\n      <header className=\"header header--login\">\n        <div className='header__logo header__logo--login' />\n        <h1 className='text text--large text--bold text--narrow' style={{ margin: \"0 0 3px 0\" }}>drafty</h1>\n      </header>\n    )\n  }\n}\n\nexport default Header\n","import React from \"react\"\n\nconst Footer = () => {\n  return (\n    <div className=\"text footer__container\">\n      <p>&copy; Drafty 2020</p>\n    </div>\n  )\n}\n\nexport default Footer\n","import firebase from 'firebase'\n\nconst config = {\n  apiKey: \"AIzaSyDogAtK4hVuw-_uiI4D5K0NWZc9j8gZUzU\",\n  authDomain: \"speek2-5f7d5.firebaseapp.com\",\n  databaseURL: \"https://speek2-5f7d5.firebaseio.com\",\n  projectId: \"speek2-5f7d5\",\n  storageBucket: \"speek2-5f7d5.appspot.com\",\n  messagingSenderId: \"797679846776\",\n  appId: \"1:797679846776:web:c92fd8300ccfa63746b48d\"\n}\n\nfirebase.initializeApp(config)\nexport const google = new firebase.auth.GoogleAuthProvider()\nexport const twitter = new firebase.auth.TwitterAuthProvider()\nexport const facebook = new firebase.auth.FacebookAuthProvider()\nexport const auth = firebase.auth()\nexport default firebase\n","import React, { useEffect } from \"react\"\nimport { useStateValue } from \"../../state\"\nimport Header from \"../header/Header\"\nimport Footer from \"../footer/Footer\"\nimport firebase, { twitter, auth } from \"../../utils/firebase\"\n\nconst Login = () => {\n  const [{ user, animations }, dispatch] = useStateValue()\n\n  const checkForPreviousLogin = () => {\n    auth.onAuthStateChanged(async account => {\n      try {\n        if (account) {\n          const userInfo = await account\n\n          let avatar = userInfo.photoURL\n          avatar = avatar.replace(\"_normal\", '')\n\n          dispatch({\n            type: \"user\",\n            payload: {\n              ...user,\n              isAuthenticated: true,\n              uid: auth.currentUser.uid,\n              twitterID: userInfo.providerData[0].uid,\n              username: userInfo.displayName\n              // avatar: avatar\n            }\n          })\n\n        }\n        setTimeout(() => {\n          dispatch({\n            type: 'animations',\n            payload: {\n              ...animations,\n              loader_out: true\n            }\n          })\n          setTimeout(() => {\n            dispatch({\n              type: 'toggleLoader',\n              payload: false\n            })\n          }, 200)\n        }, 1000)\n      } catch (e) {\n        console.error(\"Error fetching previous auth: \", e)\n      }\n    })\n  }\n\n  const loginWithTwitter = async () => {\n    auth.signInWithPopup(twitter).then(async result => {\n      const userData = result.additionalUserInfo.profile\n      let avatar = userData.profile_image_url_https\n      avatar = avatar.replace(\"_normal\", '')\n\n      dispatch({\n        type: 'user',\n        payload: {\n          ...user,\n          isAuthenticated: true,\n          uid: auth.currentUser.uid,\n          twitterID: userData.id,\n          username: userData.name,\n          avatar: avatar\n        }\n      })\n      window.localStorage.setItem('isAuthenticated', true)\n\n      firebase.database()\n        .ref(`/users/${auth.currentUser.uid}/`)\n        .child('avatar')\n        .set(avatar)\n\n      setTimeout(() => {\n        dispatch({\n          type: 'animations',\n          payload: {\n            ...animations,\n            loader_out: true\n          }\n        })\n        setTimeout(() => {\n          dispatch({\n            type: 'toggleLoader',\n            payload: false\n          })\n        }, 200)\n      }, 1000)\n\n    }).catch(e => console.error(e))\n  }\n\n\n  useEffect(() => {\n    // dispatch({\n    //   type: \"toggleLoader\",\n    //   payload: true\n    // })\n\n    checkForPreviousLogin()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  if (!user.isAuthenticated) {\n    return (\n      <div className=\"login__container\">\n        <Header />\n        <div className=\"login__links\">\n          <img alt='Home page art' src='/writer-beard.svg' />\n\n          <div style={{ marginTop: 30 }} className='placeholder'>\n            <button onClick={loginWithTwitter} className='placeholder__button placeholder__button--landing'>\n              <span className='btn__inner'>\n                <span className='icon btn-text-one text text--medium'>Log in with Twitter</span>\n                <span className='btn-text--twitter' />\n              </span>\n            </button>\n          </div>\n        </div>\n        <Footer />\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n\nexport default Login\n","import React, { useState, useEffect } from 'react'\nimport { useStateValue } from '../../state'\nimport Div100vh from 'react-div-100vh'\nimport firebase, { auth } from \"../../utils/firebase\"\n\nconst Popover = props => {\n    const [{ popover, drafts, user, animations }, dispatch] = useStateValue()\n    const [animation, setAnimation] = useState('animate--fade-in')\n    const [confirmText, setConfirmText] = useState('')\n\n    const handleLogOut = () => {\n        auth.signOut()\n            .then(() => {\n                const u = {}\n                dispatch({\n                    type: 'user',\n                    payload: {\n                        ...u,\n                        isAuthenticated: false\n                    }\n                })\n\n                dispatch({\n                    type: 'drafts',\n                    payload: []\n                })\n                closePopover()\n            })\n    }\n\n    const handleDeleteDraft = () => {\n        let d = drafts\n        d.splice(popover.index, 1)\n        dispatch({\n            type: 'drafts',\n            payload: d\n        })\n\n        try {\n            firebase\n                .database()\n                .ref(`/users/${user.uid}`)\n                .child(\"drafts\")\n                .set(d)\n\n            closePopover()\n        } catch (e) {\n            console.error(e)\n        }\n    }\n\n    const handleDeleteAllDrafts = () => {\n\n        dispatch({\n            type: 'drafts',\n            payload: []\n        })\n\n        try {\n            firebase\n                .database()\n                .ref(`/users/${user.uid}`)\n                .child(\"drafts\")\n                .set([])\n\n            closePopover()\n        } catch (e) {\n            console.error(e)\n        }\n    }\n\n    const handleDeleteAccount = async () => {\n        const user = firebase.auth().currentUser\n        console.log(`deleting ${user.uid}`)\n\n        try {\n            firebase\n                .database()\n                .ref(`/users`)\n                .child(user.uid)\n                .remove()\n            await user.delete()\n            handleLogOut()\n        } catch (e) {\n            console.error(e)\n        }\n    }\n\n    const closePopover = () => {\n        setAnimation('animate--fade-out')\n        dispatch({\n            type: 'popover',\n            payload: {\n                toggle: false,\n                index: null\n            }\n        })\n        setTimeout(() => {\n            setAnimation('animate--fade-in')\n        }, 200)\n    }\n\n    const confirmButtonFunction = () => {\n        const { type, index } = popover\n        if (type === 'draft_delete') {\n            return handleDeleteDraft(index)\n        }\n        if (type === 'draft_delete_all') {\n            return handleDeleteAllDrafts()\n        }\n        if (type === 'account_delete') {\n            return handleDeleteAccount()\n        }\n\n        if (type === 'log_out') {\n            return handleLogOut()\n        }\n\n    }\n\n    useEffect(() => {\n        const body = document.querySelector('body')\n        if (popover.toggle) {\n            body.style.overflow = 'hidden'\n            const { type } = popover\n            if (type === 'draft_delete') setConfirmText('delete this draft')\n            if (type === 'log_out') setConfirmText('log out')\n            if (type === 'draft_delete_all') setConfirmText('delete your drafts')\n            if (type === 'account_delete') setConfirmText('delete your account')\n        } else {\n            body.style.overflow = ''\n        }\n    }, [popover.toggle])\n\n    if (popover.toggle) {\n        return (\n            <Div100vh className={`popover ${animation}`}>\n                <div className='popover__inner'>\n                    <p className='text text--medium text--bold text--center'>Are you sure you want to {confirmText}?</p>\n                    <div className='popover__row'>\n                        <button onClick={closePopover} className='popover__btn popover__btn--confirm'>Cancel</button>\n                        <button onClick={confirmButtonFunction} className='popover__btn'>\n                            {popover.button_text}\n                        </button>\n                    </div>\n                </div>\n            </Div100vh>\n        )\n    } else {\n        return null\n    }\n}\n\nexport default Popover","import React from 'react'\nimport { useStateValue } from '../../state'\n\nconst Draft = props => {\n    const [{ animations }] = useStateValue()\n    const draft = props.draft\n    return (\n        <div className={`draft ${animations.draft_delete}`}>\n            <div onClick={() => props.handleEditDraft(props.index)} className='draft__clickable-wrapper'>\n                <p className='draft__text'>\n                    {draft.text}\n                </p>\n            </div>\n            <button className='draft__delete' onClick={() => props.handleDeleteDraft(props.index)}>\n                <img src='/icons/trash.svg' alt='Delete this draft' />\n            </button>\n        </div>\n    )\n}\n\nexport default Draft","import React, { useEffect } from \"react\"\nimport { useStateValue } from \"../../state\"\nimport firebase from \"../../utils/firebase\"\nimport Draft from './Draft'\n\nconst Drafts = () => {\n  const [\n    {\n      user,\n      modify,\n      drafts,\n      show_drafts,\n      animations,\n      popover\n    },\n    dispatch] = useStateValue()\n\n  const getExistingUserData = () => {\n    dispatch({\n      type: 'toggleLoader',\n      payload: true\n    })\n    firebase.database()\n      .ref('/users/' + user.uid)\n      .once('value')\n      .then(snapshot => {\n        try {\n          const data = snapshot.val()\n          if (data) {\n            if (data.drafts && data.drafts.length > 0) {\n              dispatch({\n                type: 'drafts',\n                payload: data.drafts\n              })\n            }\n            dispatch({\n              type: 'toggleLoader',\n              payload: false\n            })\n\n            dispatch({\n              type: 'user',\n              payload: {\n                ...user,\n                avatar: data.avatar\n              }\n            })\n\n          } else {\n            const userData = {\n              twitterID: user.twitterID,\n              uid: user.uid\n            }\n            firebase.database()\n              .ref(`/users/${user.uid}/`)\n              .set(JSON.parse(JSON.stringify(userData)))\n          }\n        }\n        catch (e) {\n          console.error(e)\n        }\n      })\n  }\n\n  const handleEditDraft = index => {\n    const editArr = [true, index]\n    dispatch({\n      type: 'animations',\n      payload: {\n        ...animations,\n        overlay: 'animate--fade-in'\n      }\n    })\n    dispatch({\n      type: 'modify',\n      payload: {\n        ...modify,\n        edit_draft: editArr\n      }\n    })\n    dispatch({ type: 'show_drafts', payload: false })\n  }\n\n  const handleDeleteDraft = index => {\n    dispatch({\n      type: 'modify',\n      payload: {\n        ...modify,\n        edit_draft: [false, index]\n      }\n    })\n    dispatch({\n      type: 'popover',\n      payload: {\n        toggle: true,\n        type: 'draft_delete',\n        index: index,\n        button_text: 'Delete'\n      }\n    })\n\n  }\n\n  const toggleModify = () => {\n    dispatch({ type: 'modify', payload: { ...modify, new_draft: true } })\n    dispatch({\n      type: 'animations',\n      payload: {\n        ...animations,\n        overlay: 'animate--fade-in'\n      }\n    })\n    dispatch({ type: 'show_drafts', payload: false })\n  }\n\n  const detectKeyDown = e => {\n    if (e.key === '=') {\n      setTimeout(() => {\n        toggleModify()\n      }, 100)\n    }\n  }\n\n  useEffect(() => {\n    getExistingUserData()\n    document.addEventListener('keypress', e => detectKeyDown(e))\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const renderDraft = (draft, i) =>\n    <Draft key={draft.text.slice(0, 10)}\n      draft={draft}\n      index={i}\n      handleEditDraft={handleEditDraft}\n      handleDeleteDraft={handleDeleteDraft} />\n\n  if (show_drafts && user.isAuthenticated) {\n    if (drafts && drafts.length) {\n      return (\n        <div className={`drafts__container animate--fade-in ${popover.toggle ? 'blur no-scroll' : ''}`}>\n          <div className={`drafts animate--fade-in`}>\n            {drafts.map((draft, i) => renderDraft(draft, i))}\n            <div style={{ paddingTop: 10, paddingBottom: 10 }} className='placeholder'>\n              <button style={{ marginTop: 20, marginBottom: 20 }} onClick={toggleModify} className='placeholder__button button__draft'>\n                <span className='btn__inner'>\n                  <span className='icon fas btn-text-one text--slim'>Add new draft</span>\n                  <span className='icon fas btn-text-two' />\n                </span>\n              </button>\n              <div className='placeholder__logo' />\n            </div>\n\n          </div>\n          <button className='drafts__add-mobile' onClick={toggleModify}>\n            <img src='/icons/close.svg' alt='Create new draft' />\n          </button>\n        </div>\n      )\n    } else {\n      return (\n        <div className='drafts__container drafts__container--placeholder animate--fade-in'>\n          <div className='drafts placeholder'>\n            <div className='placeholder__art' />\n\n            <button onClick={toggleModify} className='placeholder__button'>\n              <span className='btn__inner'>\n                <span className='icon fas btn-text-one text--slim'>Create a draft</span>\n                <span className='icon fas btn-text-two' />\n              </span>\n            </button>\n\n          </div>\n          <button style={popover.toggle ? { opacity: 0 } : null} className='drafts__add-mobile' onClick={toggleModify}>\n            <img src='/add.svg' alt='Create new draft' />\n          </button>\n        </div>\n      )\n    }\n  } else {\n    return null\n  }\n}\n\nexport default Drafts\n","import React from 'react'\nimport { CircularProgressbar, buildStyle } from 'react-circular-progressbar'\nimport 'react-circular-progressbar/dist/styles.css'\n\nconst ProgressRing = props => {\n  return (\n    <div className={props.goal > 0 ? 'progress-ring__container' : 'hidden'}>\n      <CircularProgressbar\n        value={props.progress}\n        text={props.count}\n        initialAnimation={true}\n        strokeWidth={5}\n        className='progress-ring__circle-chart'\n        styles={{\n          path: {\n            stroke: `${props.progress > 0 && props.progress <= 33.333\n              ? '#8ffdfc'\n              : props.progress > 33.333 && props.progress <= 50\n                ? '#8fc1fc'\n                : props.progress > 51 && props.progress <= 66.6666\n                  ? '#c363a5'\n                  : props.progress > 67 && props.progress <= 80\n                    ? '#c43f9a'\n                    : props.progress > 81 && props.progress <= 100\n                      ? '#db1c87'\n                      : props.progress >= 100\n                        ? '#f04100'\n                        : null}`\n          },\n          text: {\n            fill: `${props.progress > 0 && props.progress <= 33.333\n              ? '#8ffdfc'\n              : props.progress > 33.333 && props.progress <= 50\n                ? '#8fc1fc'\n                : props.progress > 51 && props.progress <= 66.6666\n                  ? '#c363a5'\n                  : props.progress > 67 && props.progress <= 80\n                    ? '#c43f9a'\n                    : props.progress > 81 && props.progress <= 100\n                      ? '#db1c87'\n                      : props.progress >= 100\n                        ? '#f04100'\n                        : null}`\n          }\n        }}\n      />\n    </div>\n  )\n}\n\nexport default ProgressRing\n","import React, { useState, useRef, useEffect } from \"react\"\nimport { useStateValue } from \"../../state\"\nimport firebase from \"firebase\"\nimport Div100vh from 'react-div-100vh'\nimport moment from 'moment'\nimport ProgressRing from '../shared/progress-ring/ProgressRing'\n\nconst Modify = () => {\n  const [disabled, setDisabled] = useState(true),\n    [error, setError] = useState(false),\n    [text, setText] = useState(''),\n    [original, setOriginal] = useState(''),\n    [copyStatus, setCopyStatus] = useState('Copy'),\n    [charCount, setCharCount] = useState(0),\n    [charProgress, setCharProgress] = useState(0),\n    [{ user, modify, drafts, animations }, dispatch] = useStateValue(),\n    inputRef = useRef(null)\n\n  const handleSubmitNewDraft = e => {\n    e.preventDefault()\n    const d = drafts\n    const data = {\n      text: text,\n      timestamp: moment().unix()\n    }\n    d.unshift(data)\n    dispatch({\n      type: 'drafts',\n      payload: d\n    })\n\n    try {\n      firebase\n        .database()\n        .ref(`/users/${user.uid}`)\n        .child(\"drafts\")\n        .update(d)\n\n      inputRef.current.value = ''\n      dispatch({ type: 'show_drafts', payload: true })\n      toggleModify(\"new_draft\")\n    } catch (e) {\n      setError(true)\n      setDisabled(true)\n      console.error(e)\n    }\n  }\n\n  const handleSubmitEditDraft = e => {\n    e.preventDefault()\n\n    try {\n      firebase\n        .database()\n        .ref(`/users/${user.uid}`)\n        .child(\"drafts\")\n        .update(drafts)\n      dispatch({ type: 'show_drafts', payload: true })\n      closeEditModal(false)\n    } catch (e) {\n      setError(true)\n      setDisabled(true)\n      console.error(e)\n    }\n  }\n\n  const handleTextInput = e => {\n    const text = e.target.value\n    setText(text)\n    setCharCount(text.length)\n    handleProgressRing(text.length)\n    if (text.length > 0) {\n      setDisabled(false)\n    } else {\n      setDisabled(true)\n    }\n  }\n\n  const handleProgressRing = count =>\n    setCharProgress(Math.floor((count / 280) * 100))\n\n  const handleCopyText = e => {\n    e.preventDefault()\n    inputRef.current.select()\n    document.execCommand('copy')\n    setCopyStatus(<img className='modify__button--tick' alt='Text Copied' src=\"/icons/check.svg\" />)\n    inputRef.current.focus()\n    inputRef.current.setSelectionRange(charCount, charCount)\n\n    setTimeout(() => {\n      setCopyStatus('Copy')\n    }, 1500)\n  }\n\n  const handleComposeNewTweet = e => {\n    e.preventDefault()\n    const encodedText = encodeURI(text)\n    const url = `https://twitter.com/intent/tweet?text=${encodedText}`\n    window.open(url, '_blank')\n    inputRef.current.focus()\n    inputRef.current.setSelectionRange(charCount, charCount)\n  }\n\n  const handleEditDraftInput = e => {\n    const text = e.target.value\n    setText(text)\n    let d = drafts\n    d[modify.edit_draft[1]].text = text\n    d[modify.edit_draft[1]].timestamp = moment().unix()\n    dispatch({\n      type: 'drafts',\n      payload: drafts\n    })\n  }\n\n  const toggleModify = operation => {\n    dispatch({ type: 'show_drafts', payload: true })\n    dispatch({\n      type: 'animations',\n      payload: {\n        ...animations,\n        overlay: 'animate--fade-out'\n      }\n    })\n    setTimeout(() => {\n      dispatch({ type: \"modify\", payload: { ...modify, [operation]: false } })\n      setDisabled(true)\n    }, 200)\n  }\n\n  const closeEditModal = cancel => {\n    let d = drafts\n    if (cancel) {\n      d[modify.edit_draft[1]].text = original\n      dispatch({\n        type: 'drafts',\n        payload: drafts\n      })\n    }\n    dispatch({ type: 'show_drafts', payload: true })\n    dispatch({\n      type: 'animations',\n      payload: {\n        ...animations,\n        overlay: 'animate--fade-out'\n      }\n    })\n    setDisabled(true)\n    setTimeout(() => {\n      dispatch({ type: 'modify', payload: { ...modify, edit_draft: [false, null] } })\n    }, 200)\n  }\n\n  useEffect(() => {\n    const body = document.querySelector('body')\n    setCharCount(0)\n    handleProgressRing(0)\n    if (modify.new_draft || modify.edit_draft[0]) {\n      body.style.overflow = 'hidden'\n      console.log(window.innerWidth)\n      if (window.innerWidth >= 769) {\n        inputRef.current.focus()\n        inputRef.current.setSelectionRange(charCount, charCount)\n      }\n      if (modify.edit_draft[0]) {\n        setOriginal(drafts[modify.edit_draft[1]].text)\n        setText(drafts[modify.edit_draft[1]].text)\n        setDisabled(false)\n        setCharCount(drafts[modify.edit_draft[1]].text.length)\n        handleProgressRing(drafts[modify.edit_draft[1]].text.length)\n      }\n    } else {\n      body.style.overflow = ''\n    }\n  }, [modify.edit_draft, original, drafts, modify.new_draft])\n\n  if (modify.new_draft) {\n    return (\n      <div className={`modify__container modify--open ${animations.overlay}`}>\n        <div className=\"header--overlay\">\n          <div className='header__avatar'>\n            <img alt='Avatar' src={user.avatar} />\n          </div>\n          <button className='overlay__cancel' onClick={() => toggleModify('new_draft')}>\n            <img src='/close.svg' alt='Close this page' />\n          </button>\n        </div>\n        <form>\n          <textarea\n            type=\"text\"\n            placeholder=\"What's your idea?\"\n            className=\"modify__input\"\n            maxLength={10000}\n            onChange={handleTextInput}\n            ref={inputRef}\n            style={error ? { border: \"2px solid red\" } : null}\n          />\n          <p className={error ? \"modify__error\" : \"hidden\"}>\n            Something's gone wrong. You may want to try refreshing the page.\n          </p>\n          <div className='modify__controls-container'>\n            <div className='modify__timestamp'>\n              <p style={{ opacity: 0 }} className='text text--tiny text--light text--slim'>\n                <em>last modified</em>\n              </p>\n            </div>\n            <div className='modify__controls'>\n              <div className='modify__char-count'>\n                <ProgressRing goal={280} progress={charProgress} count={charCount} />\n              </div>\n              <button\n                className=\"modify__button\"\n                onClick={handleCopyText}\n                disabled={disabled || error}\n              >\n                {copyStatus}\n              </button>\n              <button\n                className=\"modify__button\"\n                onClick={handleComposeNewTweet}\n                disabled={disabled || error}\n              >\n                Tweet\n            </button>\n              <button\n                className=\"modify__button modify__button--save\"\n                onClick={handleSubmitNewDraft}\n                disabled={disabled || error}\n              >\n                Save\n            </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  } else if (modify.edit_draft[0]) {\n    const currDraft = drafts[modify.edit_draft[1]]\n    const timestamp = moment.unix(currDraft.timestamp).fromNow()\n    return (\n      <Div100vh className={`modify__container modify--open ${animations.overlay}`}>\n        <div className=\"header--overlay\">\n          <div className='header__avatar'>\n            <img alt='Avatar' src={user.avatar} />\n          </div>\n          <button className='overlay__cancel' onClick={() => closeEditModal(true)}>\n            <img src='/close.svg' alt='Close this page' />\n          </button>\n        </div>\n        <form>\n          <textarea\n            type=\"text\"\n            placeholder=\"What's your idea?\"\n            className=\"modify__input\"\n            maxLength={10000}\n            onChange={handleEditDraftInput}\n            value={drafts[modify.edit_draft[1]].text}\n            ref={inputRef}\n            style={error ? { border: \"2px solid red\" } : null}\n          />\n          <p className={error ? \"modify__error\" : \"hidden\"}>\n            Something's gone wrong. You may want to try refreshing the page.\n          </p>\n          <div className='modify__controls-container'>\n\n            <div className='modify__controls'>\n\n              <ProgressRing goal={280} progress={charProgress} count={charCount} />\n              <button\n                className=\"modify__button\"\n                onClick={handleCopyText}\n                disabled={disabled || error}\n              >\n                {copyStatus}\n              </button>\n              <button\n                className=\"modify__button\"\n                onClick={handleComposeNewTweet}\n                disabled={disabled || error}\n              >\n                Tweet\n</button>\n              <button\n                className=\"modify__button modify__button--save\"\n                onClick={handleSubmitEditDraft}\n                disabled={disabled || error}\n              >\n                Save\n</button>\n            </div>\n            <div className='modify__timestamp'>\n              <p className='text text--tiny text--light text--slim'>\n                <em>last modified {timestamp}</em>\n              </p>\n            </div>\n          </div>\n        </form>\n      </Div100vh>\n    )\n  } else {\n    return null\n  }\n}\n\nexport default Modify\n","import React from 'react'\nimport Footer from '../footer/Footer'\nimport { useStateValue } from '../../state'\nimport { auth } from '../../utils/firebase'\n\nconst LogOut = props => {\n  const [{ user, toggleLogout, animations }, dispatch] = useStateValue()\n\n  const toggleModal = () => {\n    dispatch({\n      type: 'animations',\n      payload: {\n        ...animations,\n        overlay: 'animate--fade-out'\n      }\n    })\n    setTimeout(() => {\n      dispatch({ type: 'toggleLogout', payload: false })\n    }, 200)\n  }\n\n  const handleLogOut = () => {\n    auth.signOut()\n      .then(() => {\n        dispatch({\n          type: 'user',\n          payload: {\n            ...user,\n            isAuthenticated: false\n          }\n        })\n        toggleModal()\n      })\n  }\n\n  const showLogout = toggleLogout ? `logout__container ${animations.overlay}` : `hidden ${animations.overlay}`\n  return (\n    <div className={showLogout}>\n      <div className='header--overlay'>\n        <div className='header__avatar'>\n          <img alt='Avatar' src={user.avatar} />\n        </div>\n        <button className='overlay__cancel' onClick={toggleModal}>\n          <img src='/close.svg' alt='Close this page' />\n        </button>\n      </div>\n      <div className='logout'>\n        <p className='text text--medium text--slim'>Are you sure?</p>\n        <div className='placeholder'>\n          <button onClick={handleLogOut} className='placeholder__button'>\n            <span className='btn__inner'>\n              <span className='icon fas btn-text-one text text--small text--slim'>Log Out</span>\n              <span className='icon btn-text--logout' />\n            </span>\n          </button>\n        </div>\n      </div>\n      <Footer />\n    </div>\n  )\n}\n\nexport default LogOut\n","import React from 'react'\nimport { useStateValue } from '../../state'\nimport Header from '../header/Header'\nimport Drafts from '../drafts/Drafts'\nimport Modify from '../modify/Modify'\nimport Settings from '../settings/Settings'\nimport LogOut from '../logout/Logout'\n\nconst Home = () => {\n    const [{ user }] = useStateValue()\n\n    if (user.isAuthenticated) {\n        return (\n            <>\n                <Header />\n                <Drafts />\n                <Modify />\n                <Settings />\n                <LogOut />\n            </>\n        )\n    } else {\n        return null\n    }\n}\n\nexport default Home","import React, { useState, useEffect } from \"react\"\nimport Loader from \"./components/loader\"\nimport Login from \"./components/login/Login\"\nimport { useStateValue } from './state'\nimport Popover from './components/popover/Popover'\nimport Home from \"./components/home/Home\"\nimport \"./App.scss\"\n\nfunction App() {\n  const [{ popover, modify, settings, drafts, isLoading, user }, dispatch] = useStateValue()\n  const [scroll, setScroll] = useState('')\n\n  useEffect(() => {\n    const local = localStorage.getItem('isAuthenticated')\n    if (popover.toggle || modify.new_draft || modify.edit_draft[0] || settings.toggle || isLoading) {\n      setScroll('no-scroll')\n    } else {\n      setScroll('')\n    }\n\n    if (local && local === true) {\n      dispatch({\n        type: 'user',\n        payload: {\n          ...user,\n          isAuthenticated: true\n        }\n      })\n    } else {\n      console.log(local)\n    }\n  }, [popover.toggle || modify.new_draft || modify.edit_draft[0] || settings.toggle])\n\n  return (\n    <div className={`app ${scroll}`}>\n      <main className={`app__wrapper ${scroll}`}>\n        <div style={drafts.length > 0 ? null : { height: '100%' }} className={`app__inner ${scroll}`}>\n          <Loader />\n          <Login scroll={scroll} />\n          <Home />\n        </div>\n        <Popover />\n      </main>\n    </div>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport { StateProvider, initialState } from \"./state\"\nimport { rootReducer } from \"./reducers\"\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(<StateProvider initialState={initialState} reducer={rootReducer}><App /></StateProvider>, document.getElementById('root'))\nserviceWorker.unregister()\n","export const rootReducer = (state, action) => {\n  switch (action.type) {\n    case \"user\":\n      return {\n        ...state,\n        user: action.payload\n      }\n    case \"drafts\":\n      return {\n        ...state,\n        drafts: action.payload\n      }\n    case \"twit\":\n      return {\n        ...state,\n        twit: action.payload\n      }\n    case \"animations\":\n      return {\n        ...state,\n        animations: action.payload\n      }\n    case \"toggleLoader\":\n      return {\n        ...state,\n        isLoading: action.payload\n      }\n\n    case \"show_drafts\":\n      return {\n        ...state,\n        show_drafts: action.payload\n      }\n    case \"settings\":\n      return {\n        ...state,\n        settings: action.payload\n      }\n    case \"popover\":\n      return {\n        ...state,\n        popover: action.payload\n      }\n    case \"toggleLogout\":\n      return {\n        ...state,\n        toggleLogout: action.payload\n      }\n    case \"modify\":\n      return {\n        ...state,\n        modify: action.payload\n      }\n    default:\n      return state\n  }\n}"],"sourceRoot":""}